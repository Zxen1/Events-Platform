/*
 * Z-INDEX REFERENCE LIST
 * ======================
 * 
 * PERMANENT RULE: All z-index values on this site must NOT exceed 100.
 * All z-index values (including CSS variables and direct values) must be
 * documented in this reference list. When adding new z-index values, update
 * this list immediately.
 * 
 * Maximum z-index: 100 (--layer-devtools)
 * 
 * CSS Variables (defined in :root):
 *   --layer-devtools: 100    (developer tools, always on top)
 *   --layer-modal: 90         (welcome modal, full-screen modals)
 *   --layer-image-modal: 88  (lightbox/image modal)
 *   --layer-dialog: 86        (confirmations/dialogs/toasts, unsaved changes dialogs)
 *   --layer-menu: 85          (menus, dropdowns, tooltips, pickers, currency menus)
 *   --layer-panel: 60         (member/admin/filter panels)
 *   --layer-header: 40        (headers/nav)
 *   --layer-card: 30          (floating cards above content)
 *   --layer-content: 20        (primary content)
 *   --layer-base: 0           (map/base)
 * 
 * Direct z-index values found in style.css:
 *   100: (--layer-devtools) - developer tools buttons (.devtools-btn, .clear-localstorage-btn)
 *   90: (--layer-modal) - modals
 *   88: (--layer-image-modal) - image modals
 *   86: (--layer-dialog) - dialogs, unsaved changes prompts (#adminUnsavedPrompt, #memberUnsavedPrompt)
 *   85: (--layer-menu) - standard menus, dropdowns, currency menus, field-type-select menus
 *   66: formpicker dropdown menus
 *   65: formpicker dropdown buttons
 *   60: (--layer-panel) - panels
 *   40: (--layer-header) - headers
 *   30: (--layer-card) - cards
 *   20: (--layer-content) - content
 *   10: panel resizers, various overlays
 *   5: mapmarker-overlay, various elements
 *   3: various elements
 *   2: big-map-card-container (stacks above small-map-card-container)
 *   1: small-map-card-container, form labels, form field headers, item pricing labels, header-buttons
 *   0: base layer, various elements
 *   -1: some background elements
 *   auto: some elements
 * 
 * Map Card Container System:
 *   - small-map-card-container: z-index 1 (renders below big cards)
 *   - big-map-card-container: z-index 2 (renders above small cards)
 *   - Containers use isolation: isolate to create stacking contexts
 *   - This prevents elements from one card from penetrating cards above
 */

/* ============================================================================
   SECTION: HOTFIXES & QUICK PATCHES
   ============================================================================ */

/* Hand cursor for DOM-based Mapbox markers */
    .mapboxgl-marker,
    .marker,
    .is-clickable {
      cursor: pointer;
    }

    .mapboxgl-popup-track-pointer * {
      -webkit-user-select: none;
      user-select: none;
    }

    /* Layer scale */
    :root{
      --layer-devtools: 100;    /* developer tools (always on top) */
      --layer-modal: 90;        /* welcome modal, full-screen modals */
      --layer-image-modal: 88;  /* lightbox/image modal */
      --layer-dialog: 86;       /* confirmations/dialogs/toasts */
      --layer-menu: 85;         /* menus, dropdowns, tooltips, pickers, currency menus */
      --layer-panel: 60;        /* member/admin/filter panels */
      --layer-header: 40;       /* headers/nav */
      --layer-card: 30;         /* floating cards above content */
      --layer-content: 20;      /* primary content */
      --layer-base: 0;          /* map/base */
    }

    /* Menus stay clickable above overlays */
    .options-menu { z-index: var(--layer-menu); }

/* Map card and marker styles moved to map.css */

/* Extracted from <styleid="mapboxgl-critical-css"> */
.mapboxgl-map{position:relative;width:100%;height:100%}
    .mapboxgl-canvas{position:absolute;left:0;top:0}
    .mapboxgl-canvas-container{position:absolute;inset:0}
    .mapboxgl-ctrl{box-sizing:border-box}


/* ============================================================================
   SECTION: CSS VARIABLES
   ============================================================================ */

:root{
  --header-h: 56px;
  --subheader-h: 0;
  --panel-w: 440px;
  --results-w: 530px;
  --post-board-max-w: min(100vw, 530px);
  --gap: 10px;
  --logo-size: 40px;
    --filter-panel-offset: 0px;
    --panel-transition-duration: 0.3s;
    --panel-area-height: calc((var(--vh, 1vh) * 100) - var(--header-h) - var(--safe-top) - var(--footer-h));
    --media-h: 200px;
    --calendar-scale: 1;
    --ink: #ffffff;
    --ink-d: #ececec;
    --gold: #ffc107; 
    --muted: #777;
      --primary: #3E5393;
      --secondary: #000000;
      --accent: #5C6FB1;
      --active: #2E3A72;
      --background: rgba(0,0,0,1);
      --text: #ffffff;
      --button-text: #ffffff;
      --button-hover-text: #ffffff;
      --button-active-text: #ffffff;
      --button-disabled-text: #666666;
      --btn: #333333;
      --btn-hover: #4d4d4d;
      --btn-active: #1a1a1a;
      --btn-selected: #3b82f6;
      --btn-selected-hover: #60a5fa;
      --btn-selected-active: #2563eb;
      --btn-disabled: #bbbbbb;
      --panel-bg: rgba(0,0,0,1);
      --panel-text: #000000;
      --footer-h: 0px;
      --list-background: rgba(0,0,0,0.37);
      --closed-card-bg: rgba(0,0,0,0.37);
      --scrollbar-track: rgba(0,0,0,0);
      --scrollbar-thumb: rgba(255,255,255,0.4);
      --scrollbar-thumb-hover: rgba(255,255,255,0.6);
      --scrollbar-h: 8px;
      --border: rgba(173,173,173,0.31);
      --border-hover: #3b82f6;
      --border-active: rgba(255,200,0,0.45);
      --placeholder-text: gray;
      --filter-placeholder-text: var(--placeholder-text);
      --popup-bg: rgba(0,0,0,1);
      --popup-text: #ffffff;
      --dropdown-title: #000000;
      --dropdown-selected-bg: #7c4dff;
      --dropdown-selected-text: #ffffff;
      --dropdown-text: #000000;
      --dropdown-bg: rgba(255,255,255,1);
      --dropdown-hover-bg: rgba(224,224,224,1);
      --dropdown-hover-text: #000000;
        --dropdown-venue-text: #000000;
        --dropdown-radius: 8px;
        --calendar-width: 250px;
        --calendar-height: 200px;
        --calendar-cell-w: calc(var(--calendar-width) / 7);
        --calendar-header-h: 20px;
        --calendar-cell-h: calc((var(--calendar-height) - var(--calendar-header-h)) / 7);
        --calendar-past-bg: #222222;
        --calendar-future-bg: #222222;
        --session-available: #888888;
        --session-selected: #2e3a72;
        --today: #ff0000;
        --image-panel-bg: rgba(0,0,0,0.7);
      --filter-active-color: #cc6600;
      --category-switch-active: #3b82f6;
      --keyword-bg: #FFFFFF;
      --date-range-bg: rgba(74,74,74,0.9);
      --date-range-text: rgba(255,255,255,1);
      --control-h: 35px;
      --geocoder-h: var(--control-h);
      --panel-label-font: system-ui, sans-serif;
      --panel-label-size: 14px;
      --panel-label-color: #ffffff;
      --panel-title-font: system-ui, sans-serif;
      --panel-title-size: 16px;
      --panel-title-color: #ffffff;
      --post-mode-bg-color: 0,0,0;
      --post-mode-bg-opacity: 0;
      --safe-top: env(safe-area-inset-top, 0px);
}

/* ============================================================================
   SECTION: RESET & BASE STYLES
   ============================================================================ */

*:not([class*="mapboxgl-"]){
  box-sizing: border-box;
  border-color: var(--border) !important;
}

@supports (scrollbar-width: thin){
  *:not([class*="mapboxgl-"]){
    scrollbar-width: thin;
  }
}

@supports (scrollbar-color: #000 #fff){
  *:not([class*="mapboxgl-"]){
    scrollbar-color: var(--scrollbar-thumb) var(--scrollbar-track);
  }
}

fieldset{
  margin:0;
  padding:6px 0 0;
  border:0 !important;
}

*:not([class*="mapboxgl-"]):hover{
  border-color: var(--border-hover) !important;
}

*:not([class*="mapboxgl-"]):active{
  border-color: var(--border-active) !important;
}

*[aria-pressed="true"]:not([class*="mapboxgl-"]),
*[aria-current="page"]:not([class*="mapboxgl-"]),
.selected:not([class*="mapboxgl-"]),
.on:not([class*="mapboxgl-"]){
  border-color: var(--border-active) !important;
  color: var(--active);
}

*[aria-selected="true"]:not([class*="mapboxgl-"]){
  border-color: var(--border-active) !important;
}

html,body{
  height: 100%;
}

*:not([class*="mapboxgl-"])::-webkit-scrollbar{
  width:var(--scrollbar-h);
  height:var(--scrollbar-h);
}
*:not([class*="mapboxgl-"])::-webkit-scrollbar-track{
  background:var(--scrollbar-track);
}
*:not([class*="mapboxgl-"])::-webkit-scrollbar-thumb{
  background:var(--scrollbar-thumb);
  border-radius:0;
}
*:not([class*="mapboxgl-"])::-webkit-scrollbar-thumb:hover{
  background:var(--scrollbar-thumb-hover);
}

  body{
    margin: 0;
    font: 13px system-ui, sans-serif;
    background: var(--background);
    color: var(--text);
    overflow: hidden;
    cursor: auto;
    caret-color: transparent;
    display: flex;
    flex-direction: column;
    min-height: calc(var(--vh, 1vh) * 100);
    -webkit-user-select: text;
    user-select: text;
    touch-action: manipulation;
  }

  body, .post-body{
    overscroll-behavior: contain;
  }
  .panel-content, .options-menu, .calendar-scroll{
    overscroll-behavior: contain;
  }

/* ============================================================================
   SECTION: TYPOGRAPHY
   ============================================================================ */

  h1, h2, h3, h4, h5, h6{
    font-size: 16px;
    font-weight: bold;
  }

a{
  color: var(--primary);
}
a:hover{
  color: var(--accent);
}
a:active{
  color: var(--active);
}


/* ============================================================================
   SECTION: COMPONENT FILES (content moved to dedicated CSS files)
   - map.css: Map display styles (cards, markers, clusters)
   - post.css: Post/Recent board styles
   - advert.css: Ad board styles
   - filter.css: Filter panel styles
   - member.css: Member panel styles
   - admin.css: Admin panel styles (#adminPanel, #tab-map, #tab-settings, #tab-messages)
   - forms.css: Forms tab styles (#tab-forms)
   ============================================================================ */



/* ============================================================================
   SECTION: SHARED PANEL COMPONENTS
   ============================================================================ */

/* Tab Button - for panel tab buttons */
.button--tab{
  background: var(--btn);
  border: 1px solid var(--btn);
  color: var(--button-text);
  font-family: inherit;
  font-size: 13px;
  padding: 0 10px;
  height: var(--control-h);
  min-height: var(--control-h);
  min-width: 35px;
  border-radius: 8px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  cursor: pointer;
  transition: background .2s, border-color .2s, color .2s, transform .05s;
}
.button--tab:hover{
  background: var(--btn-hover);
  border-color: var(--btn-hover);
  color: var(--button-hover-text);
}
.button--tab:active{
  background: var(--btn-active);
  border-color: var(--btn-active);
  color: var(--button-active-text);
  transform: scale(0.97);
}
.button--tab[aria-selected="true"],
.button--tab.active{
  background: var(--button-selected-bg, var(--btn-selected));
  border-color: var(--button-selected-border, var(--button-selected-bg, var(--btn-selected)));
  color: var(--button-selected-text, var(--button-active-text));
}

/* Auth Button - for login/register/create account buttons */
.button--auth{
  background: var(--btn);
  border: 1px solid var(--btn);
  color: var(--button-text);
  font-family: inherit;
  font-size: 13px;
  padding: 0 10px;
  height: var(--control-h);
  min-height: var(--control-h);
  min-width: 35px;
  border-radius: 8px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  cursor: pointer;
  transition: background .2s, border-color .2s, color .2s, transform .05s;
}
.button--auth:hover{
  background: var(--btn-hover);
  border-color: var(--btn-hover);
  color: var(--button-hover-text);
}
.button--auth:active{
  background: var(--btn-active);
  border-color: var(--btn-active);
  color: var(--button-active-text);
  transform: scale(0.97);
}
.button--auth:focus-visible{
  outline: 2px solid #ffffff;
  outline-offset: 2px;
}
.button--auth:disabled,
.button--auth.disabled{
  background: var(--btn-disabled);
  border-color: var(--btn-disabled);
  color: var(--button-disabled-text);
  cursor: not-allowed;
  opacity: 0.6;
}

/* Delete Button - for delete action buttons */
.button--delete{
  background: var(--btn);
  border: 1px solid var(--btn);
  color: var(--button-text);
  font-family: inherit;
  font-size: 13px;
  padding: 0 10px;
  height: var(--control-h);
  min-height: var(--control-h);
  min-width: 35px;
  border-radius: 8px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  cursor: pointer;
  transition: background .2s, border-color .2s, color .2s, transform .05s;
}
.button--delete:hover{
  background: var(--btn-hover);
  border-color: var(--btn-hover);
  color: var(--button-hover-text);
}
.button--delete:active{
  background: var(--btn-active);
  border-color: var(--btn-active);
  color: var(--button-active-text);
  transform: scale(0.97);
}
.button--delete:disabled,
.button--delete.disabled{
  background: var(--btn-disabled);
  border-color: var(--btn-disabled);
  color: var(--button-disabled-text);
  cursor: not-allowed;
  opacity: 0.6;
}


/* ============================================================================
   SECTION: INPUTS
   ============================================================================ */

/* Input Text - base class for text-like inputs */
.input-text{
  font: inherit;
  caret-color: auto;
  -webkit-user-select: text;
  user-select: text;
  height: var(--control-h);
  border-radius: 8px;
}
.input-text::placeholder{
  color: var(--placeholder-text);
  font-family: inherit;
  font-size: inherit;
}

/* Input Textarea - base class for textareas */
.input-textarea{
  font: inherit;
  caret-color: auto;
  -webkit-user-select: text;
  user-select: text;
  border-radius: 8px;
}
.input-textarea::placeholder{
  color: var(--placeholder-text);
  font-family: inherit;
  font-size: inherit;
}

/* Input Dropdown - base class for select elements */
.input-dropdown{
  font: inherit;
  background: var(--dropdown-bg);
  color: var(--dropdown-text);
  border-radius: var(--dropdown-radius);
  height: var(--control-h);
}
.input-dropdown option{
  background: var(--dropdown-bg);
  color: var(--dropdown-text);
}
.input-dropdown option:checked{
  background: var(--dropdown-selected-bg);
  color: var(--dropdown-selected-text);
}
.input-dropdown option:hover{
  background: var(--dropdown-hover-bg);
  color: var(--dropdown-hover-text);
}

/* Input Checkbox - base class for checkboxes */
.input-checkbox{
  width: var(--control-h);
  height: var(--control-h);
  border-radius: 8px;
}

/* Input Radio - base class for radio buttons */
.input-radio{
  width: var(--control-h);
  height: var(--control-h);
  border-radius: 50%;
}

/* Input Modifiers - moved to filter.css */

/* Future input modifiers */
.input-text--auth{}
.input-dropdown--venue{}

/* Ensure all Mapbox geocoder inputs inherit font */
.mapboxgl-ctrl-geocoder input,
.mapboxgl-ctrl-geocoder--input,
.mapboxgl-ctrl-geocoder input.mapboxgl-ctrl-geocoder--input{
  font-family: inherit !important;
  font-size: 14px !important;
  font-weight: 400 !important;
}
.mapboxgl-ctrl-geocoder input::placeholder,
.mapboxgl-ctrl-geocoder--input::placeholder{
  font-family: inherit !important;
  font-size: 14px !important;
  font-weight: 400 !important;
}

.field label{
  color: var(--panel-label-color);
  font-size: var(--panel-label-size);
}

.panel-content .title,
.panel-content .t{
  color: var(--panel-title-color);
  font-size: var(--panel-title-size);
}

.venue-select{
  color: var(--dropdown-venue-text);
  padding-right:32px;
  appearance:none;
  -webkit-appearance:none;
}
select.venue-select,
.venue-select-wrapper select.venue-select,
*:has(.venue-select) select.venue-select{
  padding-right:32px;
  appearance:none;
  -webkit-appearance:none;
}
*:has(.venue-select){
  position:relative;
}
*:has(.venue-select)::after{
  content:'';
  position:absolute;
  top:50%;
  right:10px;
  width:8px;
  height:8px;
  border-style:solid;
  border-width:0 2px 2px 0;
  border-color:var(--button-text, #ffffff);
  transform:translate(0, -50%) rotate(45deg);
  margin-top:-1px;
  transition:transform .3s ease;
  pointer-events:none;
  z-index:2;
  transform-origin:center center;
}
*:has(.venue-select:focus)::after{
  transform:translate(0, -50%) rotate(-135deg);
  margin-top:1px;
}


.results-arrow,
.dropdown-arrow{
  display:inline-block;
  width:8px;
  height:8px;
  border-style:solid;
  border-width:0 2px 2px 0;
  border-color:currentColor !important;
  color:inherit;
  transition:transform .3s;
  transform-origin:center center;
}

.options-dropdown > button{
  position:relative;
  padding-right:30px;
}
.results-arrow{
  transform:rotate(45deg);
  transition:transform .3s;
  vertical-align:middle;
}

.options-dropdown{
  position:relative;
}
.options-dropdown .dropdown-arrow,
.options-dropdown .results-arrow{
  position:absolute;
  top:50%;
  right:10px;
  transform:translate(0, -50%) rotate(45deg);
  margin-top:-1px;
  pointer-events:none;
}

button[aria-expanded="true"] .dropdown-arrow,
button[aria-expanded="true"] .results-arrow{
  transform:translate(0, -50%) rotate(-135deg);
  margin-top:1px;
}

/* ========================================
   Dropdown Flag & Text Alignment
   - Ensures flags, text, and arrows are vertically centered
   - Works in both buttons and menu options
======================================== */
.dropdown-flag{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  flex-shrink:0;
  width:20px;
  height:15px;
  line-height:0;
}
.dropdown-flag img{
  display:block;
  width:20px;
  height:15px;
  object-fit:cover;
  border-radius:2px;
}
.dropdown-text{
  display:inline-flex;
  align-items:center;
  white-space:nowrap;
  line-height:1;
}
/* Ensure buttons and menu options use flexbox alignment */
.item-pricing-currency,
.options-menu .menu-option{
  display:flex;
  align-items:center;
  gap:6px;
}
.item-pricing-currency .dropdown-flag,
.item-pricing-currency .dropdown-text,
.options-menu .menu-option .dropdown-flag,
.options-menu .menu-option .dropdown-text{
  flex-shrink:0;
}
.options-menu .menu-option .dropdown-text{
  flex-shrink:1;
  min-width:0;
}

/* ============================================================================
   SECTION: PANELS (Base)
   ============================================================================ */

.panel{
  position:fixed;
  top:0;
  left:0;
  right:0;
  width:100%;
  height:calc(var(--vh, 1vh) * 100);
  background:transparent;
  display:none;
  z-index: var(--layer-panel);
  pointer-events:none;
}
.panel.show{
  display:block;
}
.modal{
  position:fixed;
  top:0;
  left:0;
  right:0;
  width:100%;
  height:calc(var(--vh, 1vh) * 100);
  background:transparent;
  display:none;
  z-index: var(--layer-modal);
  pointer-events:none;
}
.modal.show{
  display:block;
}
.panel-content{
  position:absolute;
  left:50%;
  top:calc(var(--header-h) + var(--safe-top));
  bottom:auto;
  width:440px;
  max-width:440px;
  height:var(--panel-area-height, calc((var(--vh, 1vh) * 100) - var(--header-h) - var(--safe-top) - var(--footer-h)));
  max-height:var(--panel-area-height, calc((var(--vh, 1vh) * 100) - var(--header-h) - var(--safe-top) - var(--footer-h)));
  min-height:var(--panel-area-height, calc((var(--vh, 1vh) * 100) - var(--header-h) - var(--safe-top) - var(--footer-h)));
  border-radius:0;
  display:flex;
  flex-direction:column;
  overflow:hidden;
  pointer-events:auto;
  transition:transform var(--panel-transition-duration, 0.3s) ease;
  will-change:transform;
  box-sizing:border-box;
}

.panel-content[data-side='left']{
  transform:translateX(-100%);
}

.panel-content[data-side='right']{
  transform:translateX(100%);
}

.panel-content[data-side]:not(.panel-visible){
  pointer-events:none;
}

.panel-content[data-side].panel-visible{
  pointer-events:auto;
  transform:translateX(0);
}

.panel-content .resizer{position:absolute;z-index:10;background:transparent;display:none;}
.panel-content .resizer.n{top:0;left:0;right:0;height:6px;cursor:n-resize;}
.panel-content .resizer.s{bottom:0;left:0;right:0;height:6px;cursor:s-resize;}
.panel-content .resizer.e{top:0;right:0;bottom:0;width:6px;cursor:e-resize;}
.panel-content .resizer.w{top:0;left:0;bottom:0;width:6px;cursor:w-resize;}
.panel-content .resizer.ne{top:0;right:0;width:10px;height:10px;cursor:ne-resize;}
.panel-content .resizer.nw{top:0;left:0;width:10px;height:10px;cursor:nw-resize;}
.panel-content .resizer.se{bottom:0;right:0;width:10px;height:10px;cursor:se-resize;}
.panel-content .resizer.sw{bottom:0;left:0;width:10px;height:10px;cursor:sw-resize;}
.panel-body{
  flex:1 1 auto;
  min-height:0;
  overflow-y:auto;
  overflow-x:hidden;
  padding:0 10px;
  overscroll-behavior:contain;
  display:flex;
  flex-direction:column;
  align-items:stretch;
  gap:20px;
}
#adminForm.panel-body,
#memberForm.panel-body{
  padding:10px;
}
#memberForm.panel-body{
  padding-bottom:100px;
}
.panel-body{
  scrollbar-width: thin;
  scrollbar-color: var(--panel-scrollbar-thumb) transparent;
}
.panel-body::-webkit-scrollbar{
  width: 12px;
}
.panel-body::-webkit-scrollbar-track{
  background: transparent;
}
.panel-body::-webkit-scrollbar-thumb{
  background-color: rgba(255,255,255,0.5);
  border-radius: 6px;
}
.panel-body::-webkit-scrollbar-thumb:hover{
  background-color: rgba(255,255,255,0.7);
}
.panel-body::-webkit-scrollbar-corner{
  background: transparent;
}
.panel-body > *{
  width:100%;
  max-width:420px;
  box-sizing:border-box;
  margin:0 auto;
  min-width:0;
}
.panel-body > *:last-child{
  margin-bottom:0;
}
.panel-body > *:not(.map-control-row) > *{
  width:100%;
  max-width:100%;
  min-width:0;
}
.refresh-map-cards-btn{
  width:100%;
  padding:8px 12px;
  border-radius:8px;
  background:rgba(0,0,0,0.2);
  color:#fff;
  border:1px solid rgba(255,255,255,0.1);
  cursor:pointer;
  transition:background 0.2s ease, border-color 0.2s ease;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:6px;
  font-size:14px;
}
.refresh-map-cards-btn:hover:not(:disabled){
  background:rgba(255,255,255,0.12);
  border-color:rgba(255,255,255,0.28);
}
.refresh-map-cards-btn:disabled{
  opacity:0.6;
  cursor:not-allowed;
}
.refresh-map-cards-btn span{
  font-size:16px;
}
.calendar .month{
  flex:0 0 auto;
  width:var(--calendar-width);
  height:var(--calendar-height);
}
.calendar .month:not(:first-child){
  border-left:1px solid var(--calendar-past-bg);
}
.calendar .grid{
  width:100%;
  height:calc(var(--calendar-height) - var(--calendar-header-h));
  display:grid;
  grid-template-columns:repeat(7,var(--calendar-cell-w));
  grid-template-rows:repeat(7,var(--calendar-cell-h));
}
.calendar .calendar-header{
  height:var(--calendar-header-h);
  line-height:var(--calendar-header-h);
  text-align:center;
  font-size:inherit;
  color:#fff;
  background:#2e3a72;
}
.calendar .weekday,
.calendar .day{
  width:var(--calendar-cell-w);
  height:var(--calendar-cell-h);
  line-height:var(--calendar-cell-h);
  text-align:center;
  font-size:inherit;
  border-radius:8px;
}
.calendar .weekday{font-weight:bold;}
.calendar .day{cursor:pointer;}
.calendar .day.empty{cursor:default;background:var(--calendar-future-bg);}
.calendar .day.past{background:var(--calendar-past-bg);color:#808080;}
.calendar .day.future{background:var(--calendar-future-bg);}
.calendar .day.today{color:var(--today) !important;font-weight:bold;}
.calendar .day.in-range{background:var(--session-selected);}
.calendar .day.selected{background:var(--session-selected);color:#fff;}
.calendar .day.selected.today{color:var(--today) !important;}
.calendar .day.range-start{border-radius:8px 0 0 8px;}
.calendar .day.range-end{border-radius:0 8px 8px 0;}
.calendar .day.range-start.range-end{border-radius:8px;}

#welcomeBody{
  display:flex;
  flex-direction:column;
  align-items:center;
  text-align:center;
  padding:0;
  gap:0;
  overflow:visible;
  position:relative;
}
#welcomeBody > :not(.map-control-row){
  pointer-events:none;
}
#welcomeBody .welcome-logo{
  max-width:100%;
  width:min(100%, 600px);
  height:auto;
  margin:0;
  object-fit:contain;
  /* Hide until image loads to prevent alt text flash */
  opacity: 0;
  transition: opacity 0.2s ease;
}
#welcomeBody .welcome-logo.loaded,
#welcomeBody .welcome-logo[src]:not([src=""]){
  opacity: 1;
}
#welcomeBody .welcome-illustration{
  max-width:280px;
  width:100%;
  height:auto;
  margin:0;
  border-radius:8px;
  /* Reserve space to prevent layout shift */
  min-height:200px;
  aspect-ratio: 1 / 1;
  object-fit:contain;
}
#welcome-modal{background:rgba(0,0,0,0.65);backdrop-filter:blur(4px);}
#welcome-modal .modal-content{
  position:absolute;
  width:min(600px, 90vw);
  max-width:90vw;
  background:none;
  border-radius:0;
  display:flex;
  flex-direction:column;
  overflow:visible;
  pointer-events:auto;
}
.control-row > *:last-child{margin-left:auto;width:200px;}

.map-theme-container,
.map-spin-container{
  background:#444444;
  width:100%;
  max-width:420px;
  padding:10px;
  border-radius:8px;
  display:flex;
  flex-direction:column;
  gap:8px;
}
.map-theme-container .panel-field,
.map-spin-container .panel-field{
  width:100%;
}

.settings-general-container,
.settings-paypal-container,
.settings-icon-folders-container,
.settings-checkout-options-container{
  background:rgba(0,0,0,0.2);
  border:1px solid rgba(255,255,255,0.1);
  width:100%;
  max-width:420px;
  margin:12px auto;
  padding:10px;
  border-radius:8px;
}

.settings-general-container input,
.settings-paypal-container input{
  background:rgba(0,0,0,0.2);
  border:none;
  color:#fff;
}

.settings-icon-folders-container input{
  background:rgba(0,0,0,0.2);
  border:none;
  color:#fff;
}

.checkout-options-header-label{
  margin:0 0 12px 0;
  padding:10px 0;
  font-size:15px;
  font-weight:500;
  color:#fff;
}
.settings-checkout-options-container .checkout-options-tiers{
  display:flex;
  flex-direction:column;
  gap:12px;
  margin-bottom:12px;
}
.settings-checkout-options-container .add-checkout-option{
  width:100%;
  padding:10px;
  background:var(--btn);
  border:none;
  border-radius:8px;
  color:#fff;
  cursor:pointer;
  font-size:14px;
  transition:background 0.15s;
}
.settings-checkout-options-container .add-checkout-option:hover{
  background:var(--btn-hover);
}

/* Checkout Option Cards - Admin Panel Style */
.checkout-option-card{
  position:relative;
  background:rgba(0,0,0,0.15);
  border:1px solid rgba(255,255,255,0.08);
  border-radius:8px;
  padding:14px;
}
.checkout-option-card.inactive{
  opacity:0.5;
}
.checkout-option-card.edit-open{
  border-color:rgba(255,255,255,0.2);
}

/* Card Header - Single Row */
.checkout-option-header{
  display:flex;
  align-items:center;
  gap:10px;
}
.checkout-option-title-display{
  flex:1;
  min-width:0;
  color:#fff;
  font-size:13px;
  font-weight:500;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}
.checkout-option-title{
  width:100%;
  background:rgba(0,0,0,0.2);
  border:1px solid rgba(255,255,255,0.15);
  border-radius:8px;
  padding:8px 12px;
  color:#fff;
  font-size:13px;
  font-weight:500;
}
.checkout-option-title:focus{
  outline:none;
  background:rgba(0,0,0,0.3);
  border-color:rgba(255,255,255,0.25);
}
.checkout-option-tier-badge{
  flex-shrink:0;
  font-size:10px;
  font-weight:600;
  text-transform:uppercase;
  letter-spacing:0.5px;
  padding:4px 8px;
  border-radius:4px;
  background:rgba(100,100,140,0.3);
  color:#9090b0;
}
.checkout-option-tier-badge.featured{
  background:rgba(255,180,50,0.15);
  color:#e8b020;
}
.checkout-option-active{
  display:flex;
  align-items:center;
  gap:6px;
  font-size:13px;
  color:#888;
  cursor:pointer;
  user-select:none;
}
.checkout-option-active input[type="checkbox"]{
  width:18px;
  height:18px;
  accent-color:var(--btn);
  cursor:pointer;
  filter:brightness(0.6);
}
.checkout-option-active input[type="checkbox"]:checked{
  filter:none;
}

/* Edit Button */
.checkout-options-edit-btn{
  flex-shrink:0;
  width:28px;
  height:28px;
  display:flex;
  align-items:center;
  justify-content:center;
  background:rgba(255,255,255,0.05);
  border:1px solid rgba(255,255,255,0.1);
  border-radius:6px;
  color:#888;
  cursor:pointer;
  transition:color 0.15s, background 0.15s, border-color 0.15s;
}
.checkout-options-edit-btn:hover{
  color:#fff;
  background:rgba(255,255,255,0.1);
  border-color:rgba(255,255,255,0.2);
}
.checkout-options-edit-btn[aria-expanded="true"]{
  color:#fff;
  background:var(--btn);
  border-color:var(--btn);
}

/* Edit Panel */
.checkout-options-edit-panel{
  margin-top:10px;
  display:flex;
  flex-direction:column;
  gap:10px;
}
.checkout-options-edit-panel[hidden]{
  display:none;
}

/* #tab-settings checkout-option-delete moved to admin.css */
.checkout-option-description{
  width:100%;
  background:rgba(0,0,0,0.2);
  border:1px solid rgba(255,255,255,0.15);
  border-radius:8px;
  padding:10px 12px;
  color:#ccc;
  font-size:13px;
  font-family:inherit;
  resize:vertical;
  min-height:60px;
  line-height:1.4;
}
.checkout-option-description:focus{
  outline:none;
  background:rgba(0,0,0,0.3);
  border-color:rgba(255,255,255,0.25);
}
.checkout-option-description::placeholder{
  color:#555;
  font-family:inherit;
}

/* Edit Panel Fields */
.checkout-options-edit-panel .checkout-option-field{
  display:flex;
  flex-direction:column;
  gap:6px;
}
.checkout-option-field label{
  font-size:12px;
  color:#888;
  font-weight:400;
}
.checkout-option-field input[type="number"]{
  width:100%;
  background:rgba(0,0,0,0.2);
  border:1px solid rgba(255,255,255,0.15);
  border-radius:8px;
  padding:8px 12px;
  color:#fff;
  font-size:14px;
  -moz-appearance:textfield;
}
.checkout-option-field input[type="number"]::-webkit-outer-spin-button,
.checkout-option-field input[type="number"]::-webkit-inner-spin-button{
  -webkit-appearance:none;
  margin:0;
}
.checkout-option-field input[type="number"]:focus{
  outline:none;
  background:rgba(0,0,0,0.3);
  border-color:rgba(255,255,255,0.25);
}
.checkout-option-field select{
  width:100%;
  background:rgba(0,0,0,0.2);
  border:1px solid rgba(255,255,255,0.15);
  border-radius:8px;
  padding:8px 32px 8px 12px;
  color:#fff;
  font-size:14px;
  cursor:pointer;
  appearance:none;
  -webkit-appearance:none;
  -moz-appearance:none;
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
  background-repeat:no-repeat;
  background-position:right 12px center;
  background-size:12px;
}
.checkout-option-field select:focus{
  outline:none;
  background-color:rgba(0,0,0,0.3);
  border-color:rgba(255,255,255,0.25);
}
.checkout-option-field select option{
  background:#2a2a2a;
  color:#fff;
}

/* Sidebar Ad Checkbox Field */
.checkout-option-field.sidebar-field{
  flex-direction:row;
  align-items:center;
  gap:8px;
}
.checkout-option-field.sidebar-field label{
  display:flex;
  align-items:center;
  gap:8px;
  cursor:pointer;
  user-select:none;
  color:#aaa;
}
.checkout-option-field.sidebar-field input[type="checkbox"]{
  width:18px;
  height:18px;
  accent-color:var(--btn);
  cursor:pointer;
}

/* Checkout Option Calculator */
.checkout-option-calculator{
  margin-top:8px;
  padding-top:12px;
  border-top:1px solid rgba(255,255,255,0.1);
}
.checkout-option-calculator .checkout-option-field input[type="number"]{
  width:auto;
  flex:0 0 100px;
  -moz-appearance:textfield;
}
.checkout-option-calculator .checkout-option-field input[type="number"]::-webkit-outer-spin-button,
.checkout-option-calculator .checkout-option-field input[type="number"]::-webkit-inner-spin-button{
  -webkit-appearance:none;
  margin:0;
}
.checkout-option-calc-total{
  display:inline-block;
  padding:4px 8px;
  background:rgba(47,59,115,0.2);
  border-radius:4px;
  font-size:14px;
  color:#777777;
  font-weight:700;
}

.checkout-option-empty{
  color:#555;
  text-align:center;
  padding:24px 16px;
  font-size:14px;
}

/* System Image Picker Styles */
.system-image-picker-container{
  display:flex;
  flex-direction:column;
  gap:16px;
  max-width:400px;
  width:100%;
  background:#222222;
  border:1px solid rgba(255,255,255,0.15);
  border-radius:8px;
  padding:16px;
  box-shadow:0 8px 24px rgba(0,0,0,0.4);
  box-sizing:border-box;
}

.system-image-picker-field{
  margin-bottom:0;
}

.system-image-picker-field label{
  display:block;
  margin-bottom:8px;
  font-weight:500;
}

/* #tab-settings panel-field styles moved to admin.css */

.sub-icon svg{
  width:18px;
  height:18px;
  vertical-align:middle;
}
.cat-line{
  display:flex;
  align-items:center;
}
.cat-line .sub-icon{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  flex:0 0 auto;
  padding-right:5px;
}
.cat-line .sub-icon:empty{
  display:none;
  padding-right:0;
}
.panel-field{
  margin:8px auto;
  display:flex;
  flex-direction:column;
  gap:8px;
  width:100%;
  max-width:420px;
  min-width:0;
}
.admin-section{display:flex;flex-direction:column;gap:var(--gap);}
.history-group,
.color-group{display:flex;align-items:center;gap:8px;flex-wrap:wrap;}
.option-label{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:8px;
  flex-wrap:wrap;
}
.option-group{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
}
.spin-type-toggles{
  display:flex;
  gap:20px;
  margin-left:20px;
}
#map_shadow_container .spin-type-toggles{
  margin-left:0;
}
.spin-type-option{
  display:flex;
  align-items:center;
  gap:8px;
  cursor:pointer;
}
.spin-type-option input[type="radio"]{
  cursor:pointer;
}
.spin-type-option span{
  font-size:14px;
  cursor:pointer;
  white-space:nowrap;
}
.option-label > *,
.option-group > *{
  min-width:0;
}
.panel-field input,
.panel-field textarea{
  padding:8px;
  border-radius:var(--dropdown-radius);
  border:none;
  width:100%;
  max-width:100%;
}
.panel-actions{
  margin-top:10px;
  display:flex;
  gap:10px;
}
.panel-header{
  position:sticky;
  top:0;
  padding:10px;
  border-top-left-radius:0;
  border-top-right-radius:0;
  z-index:1;
  cursor:ew-resize;
  display:flex;
  flex-direction:column;
  gap:10px;
  flex-shrink:0;
}
.panel-header .header-top{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  width:100%;
}
.panel-header .panel-actions{
  margin-top:0;
  margin-left:auto;
  justify-content:flex-end;
}
/* Icon buttons don't need min-width - they use fixed dimensions */
#adminPanel .panel-actions .primary-action,
#adminUnsavedPrompt .primary-action,
#memberUnsavedPrompt .primary-action{
  background:var(--button-selected-bg, var(--btn-selected));
  border-color:var(--button-selected-border, var(--button-selected-bg, var(--btn-selected)));
  color:var(--button-selected-text, var(--button-active-text));
}
#adminPanel .panel-actions .primary-action:hover,
#adminUnsavedPrompt .primary-action:hover,
#memberUnsavedPrompt .primary-action:hover{
  background:var(--button-selected-hover, var(--btn-selected-hover));
  border-color:var(--button-selected-hover-border, var(--button-selected-hover, var(--btn-selected-hover)));
  color:var(--button-selected-hover-text, var(--button-selected-text, var(--button-active-text)));
}
#adminPanel .panel-actions .discard-changes[disabled],
#adminUnsavedPrompt .confirm-discard[disabled],
#memberUnsavedPrompt .confirm-discard[disabled]{
  opacity:0.5;
  cursor:not-allowed;
}
/* Icon buttons for panel header actions */
.panel-actions .icon-btn{
  display:flex;
  align-items:center;
  justify-content:center;
  width:35px;
  height:35px;
  min-width:35px;
  padding:0;
  border-radius:6px;
  background:transparent;
  border:none;
  color:#fff;
  cursor:pointer;
  transition:color 0.15s, background 0.15s;
}
.panel-actions .icon-btn:hover{
  background:rgba(255,255,255,0.1);
  color:#fff;
}
.panel-actions .icon-btn .btn-icon{
  width:30px;
  height:30px;
  background-color:#fff !important;
  opacity:1;
  -webkit-mask-size:contain;
  mask-size:contain;
  -webkit-mask-repeat:no-repeat;
  mask-repeat:no-repeat;
  -webkit-mask-position:center;
  mask-position:center;
}
.panel-actions .icon-btn .icon-save{
  -webkit-mask-image:url('assets/system-images/icon-save.svg');
  mask-image:url('assets/system-images/icon-save.svg');
}
.panel-actions .icon-btn .icon-discard{
  -webkit-mask-image:url('assets/system-images/icon-discard.svg');
  mask-image:url('assets/system-images/icon-discard.svg');
}
.panel-actions .icon-btn .icon-close{
  -webkit-mask-image:url('assets/system-images/icon-close.svg');
  mask-image:url('assets/system-images/icon-close.svg');
}
/* Inactive/disabled state - grey */
.panel-actions .icon-btn[disabled]{
  cursor:not-allowed;
  pointer-events:none;
}
.panel-actions .icon-btn[disabled] .btn-icon{
  background-color:#888 !important;
}
.panel-actions .icon-btn[disabled]:hover{
  background:transparent;
}
/* Save button - green when active (not disabled) */
.panel-actions .icon-btn.save-changes:not([disabled]) .btn-icon{
  background-color:#22c55e !important;
}
.panel-actions .icon-btn.save-changes:not([disabled]):hover{
  background:rgba(34,197,94,0.15);
}
.panel-actions .icon-btn.save-changes:not([disabled]):hover .btn-icon{
  background-color:#4ade80 !important;
}
/* Discard button - red when active (not disabled) */
.panel-actions .icon-btn.discard-changes:not([disabled]) .btn-icon{
  background-color:#ef4444 !important;
}
.panel-actions .icon-btn.discard-changes:not([disabled]):hover{
  background:rgba(239,68,68,0.15);
}
.panel-actions .icon-btn.discard-changes:not([disabled]):hover .btn-icon{
  background-color:#f87171 !important;
}
/* Close button - white, slight brighten on hover */
.panel-actions .icon-btn.close-panel:hover{
  color:#fff;
  background:rgba(255,255,255,0.1);
}
.autosave-toggle{
  display:flex;
  align-items:center;
  gap:6px;
  cursor:pointer;
  font-size:12px;
  color:var(--text-muted, #888);
  padding:4px 8px;
  border-radius:4px;
  transition:background 0.15s;
}
.autosave-toggle:hover{
  background:rgba(255,255,255,0.1);
}
.autosave-toggle input[type="checkbox"]{
  width:14px;
  height:14px;
  cursor:pointer;
  accent-color:var(--button-selected-bg, var(--btn-selected));
}
.autosave-toggle .autosave-label{
  user-select:none;
}
.autosave-toggle input[type="checkbox"]:checked + .autosave-label{
  color:var(--text-primary, #fff);
}
#adminUnsavedPrompt{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  background:rgba(0,0,0,0.65);
  backdrop-filter:blur(4px);
  z-index:var(--layer-dialog);
  opacity:0;
  pointer-events:none;
  transition:opacity 0.2s ease;
}
#adminUnsavedPrompt.show{
  opacity:1;
  pointer-events:auto;
}
#adminUnsavedPrompt .admin-unsaved-dialog{
  background:var(--dropdown-bg, rgba(17,17,17,0.96));
  border:1px solid var(--border);
  border-radius:12px;
  padding:20px;
  max-width:360px;
  width:calc(100% - 40px);
  display:flex;
  flex-direction:column;
  gap:14px;
  box-shadow:0 18px 60px rgba(0,0,0,0.55);
  color:#000;
}
#adminUnsavedPrompt .admin-unsaved-actions{
  display:flex;
  justify-content:flex-end;
  gap:10px;
}
#adminStatusMessage{
  position:fixed;
  top:calc(var(--safe-top, 0px) + 20px);
  left:50%;
  transform:translate(-50%, -10px);
  background:rgba(0,0,0,0.85);
  color:#fff;
  padding:8px 18px;
  border-radius:999px;
  box-shadow:0 10px 25px rgba(0,0,0,0.4);
  opacity:0;
  pointer-events:none;
  transition:opacity 0.2s ease, transform 0.2s ease;
  z-index:var(--layer-dialog);
  font-size:14px;
}
#adminStatusMessage.error{
  background:#c62828;
  color:#fff;
}
#adminStatusMessage.show{
  opacity:1;
  transform:translate(-50%, 0);
}
#memberStatusMessage{
  position:fixed;
  top:calc(var(--safe-top, 0px) + 20px);
  left:50%;
  transform:translate(-50%, -10px);
  background:rgba(0,0,0,0.85);
  color:#fff;
  padding:8px 18px;
  border-radius:999px;
  box-shadow:0 10px 25px rgba(0,0,0,0.4);
  opacity:0;
  pointer-events:none;
  transition:opacity 0.2s ease, transform 0.2s ease;
  z-index:var(--layer-dialog);
  font-size:14px;
}
#memberStatusMessage.show{
  opacity:1;
  transform:translate(-50%, 0);
}

#memberStatusMessage.success{
  background:rgba(46, 160, 96, 0.92);
}

#memberStatusMessage.error{
  background:rgba(200, 70, 70, 0.92);
}
.panel-header h2{
  margin:0;
}

@media (max-width:440px){
  .panel-header .panel-actions .move-left,
  .panel-header .panel-actions .move-right{
    display:none;
  }
}
.palette{
  display:flex;
  gap:10px;
  margin-bottom:10px;
}
.field-item,
.field-instance{
  padding:6px 10px;
  border:1px solid #ccc;
  border-radius:8px;
  background:#f9f9f9;
  cursor:move;
}
.builder-zone{
  min-height:100px;
  border:2px dashed #ccc;
  padding:10px;
}
.field-instance{margin:4px 0;}

.left-tools{
  display: flex;
  gap: 8px;
  margin-bottom: 8px;
  padding-left: 2px;
}

.sq{
  width: 30px;
  height: 30px;
  border-radius: 8px;
  background: var(--btn);
  display: grid;
  place-items: center;
  border: 1px solid var(--btn);
}

.sq svg{
  width: 14px;
  height: 14px;
  opacity: .9;
}

.field{
  display:flex;
  align-items:center;
  gap:8px;
  padding:8px 0;
  margin:0;
}

.field .input{
  position: relative;
  display:flex;
  align-items:center;
  gap:6px;
  flex:1;
}

.field .options-dropdown{
  flex:1;
}

.field .options-dropdown > button{
  width:100%;
}

.input input,
.input select{
  flex: 1;
  width: 100%;
  height: 35px;
  line-height: 35px;
  border: none;
  padding: 0 12px;
  outline: 0;
  display: flex;
  align-items: center;
}
.input input{
  border-radius: 8px;
  background: var(--btn);
  color: var(--ink);
}
.input select{
  border-radius: var(--dropdown-radius);
}

.input .down{
  position: static;
  width: 35px;
  height: 35px;
  border-radius: 8px;
  background: var(--btn);
  cursor: pointer;
  border: 1px solid var(--btn);
  line-height:35px;
  text-align:center;
}
.input .down svg{
  vertical-align:middle;
}

.expired-row{
  grid-template-columns:1fr auto;
  align-items:center;
  gap:8px;
}
.expired-text{
  color:#fff;
  font-size:14px;
}
.sort-options .sort-option[aria-pressed="true"]{
  background:#3b82f6;
  color:#fff;
  border-color:#cc6600;
}
/* #tab-map and #tab-settings container styles moved to admin.css */

.spin-control-row{
  display:flex;
  align-items:center;
  gap:12px;
  user-select:none;
  -webkit-user-select:none;
}
.spin-slider{
  flex:1;
  height:4px;
  -webkit-appearance:none;
  appearance:none;
  background:rgba(0,0,0,0.3);
  outline:none;
  border-radius:4px;
  cursor:pointer;
  user-select:none;
  -webkit-user-select:none;
  -moz-user-select:none;
}
.spin-slider::-webkit-slider-thumb{
  -webkit-appearance:none;
  appearance:none;
  width:24px;
  height:24px;
  border-radius:50%;
  background:#2e3a72;
  cursor:grab;
  border:1px solid #fff;
}
.spin-slider:active::-webkit-slider-thumb{
  cursor:grabbing;
}
.spin-slider::-moz-range-thumb{
  width:24px;
  height:24px;
  border-radius:50%;
  background:#2e3a72;
  cursor:grab;
  border:1px solid #fff;
}
.spin-slider:active::-moz-range-thumb{
  cursor:grabbing;
}
.spin-slider:hover::-webkit-slider-thumb{
  background:#3a4a8a;
}
.spin-slider:hover::-moz-range-thumb{
  background:#3a4a8a;
}
.slider-value{
  min-width:40px;
  text-align:center;
  font-size:16px;
  font-weight:bold;
  color:#fff;
  flex-shrink:0;
  cursor:pointer;
  user-select:none;
  -webkit-user-select:none;
}
.slider-value-input::-webkit-inner-spin-button,
.slider-value-input::-webkit-outer-spin-button{
  -webkit-appearance:none;
  margin:0;
}
.slider-value-input{
  -moz-appearance:textfield;
}
.save-changes:not(.icon-btn):disabled,
.discard-changes:not(.icon-btn){
  background:rgba(0,0,0,0.3);
  color:rgba(255,255,255,0.5);
  cursor:not-allowed;
}
.save-changes:not(.icon-btn):not(:disabled){
  background:rgba(0,0,0,0.2);
  color:#fff;
  border:1px solid rgba(255,255,255,0.1);
  cursor:pointer;
}

/* ============================================================================
   SECTION: DIALOGS & CONFIRMATIONS
   ============================================================================ */

.formbuilder-confirm-overlay{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  background:rgba(0, 0, 0, 0.65);
  backdrop-filter:blur(4px);
  opacity:0;
  pointer-events:none;
  transition:opacity 0.2s ease;
  z-index:var(--layer-dialog);
}

.formbuilder-confirm-overlay.visible{
  opacity:1;
  pointer-events:auto;
}

.formbuilder-confirm-dialog{
  background:#222222;
  color:#fff;
  border:1px solid rgba(255,255,255,0.1);
  border-radius:16px;
  box-shadow:0 20px 45px rgba(0, 0, 0, 0.5);
  padding:24px;
  width:min(90vw, 360px);
  display:flex;
  flex-direction:column;
  gap:16px;
}

.formbuilder-confirm-dialog h2{
  margin:0;
  font-size:1.1rem;
  font-weight:600;
}

.formbuilder-confirm-dialog p{
  margin:0;
  line-height:1.5;
}

.formbuilder-confirm-actions{
  display:flex;
  justify-content:flex-end;
  gap:12px;
}

.formbuilder-confirm-actions button{
  background:rgba(0,0,0,0.2);
  color:#fff;
  border:1px solid rgba(255,255,255,0.1);
  border-radius:999px;
  padding:10px 18px;
  font:inherit;
  font-weight:600;
  cursor:pointer;
  transition:background-color 0.15s ease, color 0.15s ease, box-shadow 0.15s ease;
}

.formbuilder-confirm-cancel{
  background:rgba(0,0,0,0.2);
  color:#fff;
  border:1px solid rgba(255,255,255,0.1);
}

.formbuilder-confirm-cancel:focus-visible,
.formbuilder-confirm-cancel:hover{
  background:rgba(0,0,0,0.3);
  outline:none;
}

.formbuilder-confirm-delete{
  background:rgba(0,0,0,0.2);
  color:#fff;
  border:1px solid rgba(255,255,255,0.1);
}

.formbuilder-confirm-delete:focus-visible,
.formbuilder-confirm-delete:hover{
  background:rgba(0,0,0,0.3);
  outline:none;
}

.formbuilder-confirm-primary{
  background:rgba(0,0,0,0.2);
  color:#fff;
  border:1px solid rgba(255,255,255,0.1);
}

.formbuilder-confirm-primary:focus-visible,
.formbuilder-confirm-primary:hover{
  background:rgba(0,0,0,0.3);
  outline:none;
}
.switch{
  position:relative;
  display:inline-block;
  width:48px;
  height:24px;
  flex:0 0 48px;
}
.switch input{
  opacity:0;
  width:0;
  height:0;
}
.switch .slider{
  position:absolute;
  cursor:pointer;
  top:0;
  left:0;
  right:0;
  bottom:0;
  background:var(--btn);
  border-radius:24px;
  transition:.2s;
}
.switch .slider:before{
  position:absolute;
  content:'';
  height:20px;
  width:20px;
  left:2px;
  top:2px;
  background:var(--button-text);
  border-radius:50%;
  transition:.2s;
}
.switch input:checked + .slider{
  background:var(--session-selected);
}
#expiredToggle:checked + .slider{
  background:#cc6600;
}
.switch input:checked + .slider:before{
  transform:translateX(24px);
}

.tiny{
  display: grid;
  place-items: center;
  width: 38px;
  height: 40px;
  border-radius: 8px;
  background: var(--btn);
  cursor: pointer;
  border: 1px solid var(--btn);
}

.tiny:disabled,
.tiny[aria-disabled="true"]{
  background: var(--btn-disabled);
  border-color: var(--btn-disabled);
  color: var(--button-disabled-text);
  cursor: not-allowed;
  opacity: 0.6;
}

.tiny.danger{
  background:#b83030;
  border-color:#b83030;
  color:#fff;
}

.tiny.danger:disabled,
.tiny.danger[aria-disabled="true"]{
  background:rgba(184,48,48,0.4);
  border-color:rgba(184,48,48,0.4);
  color:rgba(255,255,255,0.6);
}

.tiny svg{
  width: 18px;
  height: 18px;
}

.cats{
  margin:8px 0;
  display:flex;
  flex-direction:column;
  gap:8px;
}

.filter-category-menu{
  display:flex;
  flex-direction:column;
  gap:6px;
}

.filter-category-menu .filter-category-header{
  display:flex;
  align-items:flex-start;
  gap:8px;
}

.filter-category-menu .filter-category-trigger-wrap{
  flex:1;
}

.filter-category-menu .filter-category-trigger{
  height:36px;
  border-radius:8px;
  padding:0;
  display:flex;
  align-items:center;
  justify-content:flex-start;
  gap:10px;
  background: var(--btn);
  border: 1px solid var(--btn);
  cursor: pointer;
  width: 100%;
  text-align: left;
  color: var(--button-text);
  font: inherit;
  font-size: 16px;
  margin: 0;
}

.filter-category-menu .category-logo{
  flex:0 0 24px;
  width:24px;
  height:24px;
  display:flex;
  align-items:center;
  justify-content:center;
}

.filter-category-menu .category-logo img{
  width:24px;
  height:24px;
}

.filter-category-menu .filter-category-trigger .label{
  font-weight:400;
  letter-spacing:.2px;
  flex:1;
}

.filter-category-menu .cat-switch{
  position:relative;
  display:flex;
  align-items:center;
  justify-content:flex-end;
  width:38px;
  height:36px;
  flex:0 0 38px;
  cursor:pointer;
  align-self:flex-start;
}
.filter-category-menu .cat-switch input{
  opacity:0;
  width:0;
  height:0;
}
.filter-category-menu .cat-switch .slider{
  position:absolute;
  top:8px;
  left:0;
  right:0;
  margin:0 auto;
  width:38px;
  height:20px;
  border-radius:16px;
  background:var(--btn);
  border:1px solid var(--btn);
  transition:.2s;
}
.filter-category-menu .cat-switch .slider:before{
  content:'';
  position:absolute;
  width:16px;
  height:16px;
  left:1px;
  top:1px;
  border-radius:50%;
  background:var(--button-text);
  transition:.2s;
}
.filter-category-menu .cat-switch input:checked + .slider{
  background:var(--category-switch-active);
  border-color:var(--category-switch-active);
}
.filter-category-menu .cat-switch input:checked + .slider:before{
  transform:translateX(18px);
}

.filter-category-menu .options-dropdown{
  width:100%;
}

.filter-category-menu .options-dropdown > button{
  background:rgba(0,0,0,0.2);
  color:#fff;
  border:1px solid rgba(255,255,255,0.1);
}

.filter-category-menu .options-menu{
  width:100%;
  box-sizing:border-box;
  position:static;
  margin-top:6px;
  background:rgba(0,0,0,0.2);
  border:1px solid rgba(255,255,255,0.1);
  border:none;
  padding:0;
  border-radius:0;
  z-index:auto;
}

.filter-category-menu .options-menu button{
  width:100%;
  display:flex;
  align-items:center;
  justify-content:flex-start;
  gap:var(--gap);
  border-radius:6px;
  border:1px solid transparent;
  box-sizing:border-box;
  padding:0 12px;
}

.filter-category-menu .options-menu button .subcategory-logo{
  flex:0 0 24px;
  width:24px;
  height:24px;
  display:flex;
  align-items:center;
  justify-content:center;
}

.filter-category-menu .options-menu button .subcategory-logo img{
  width:20px;
  height:20px;
}

.filter-category-menu .options-menu button .subcategory-label{
  flex:1;
  text-align:left;
}

.filter-category-menu .options-menu button .subcategory-switch{
  flex:0 0 auto;
  display:flex;
  align-items:center;
  justify-content:flex-end;
  width:34px;
  height:18px;
  position:relative;
  pointer-events:none;
}

.filter-category-menu .options-menu button .subcategory-switch .track{
  position:absolute;
  inset:0;
  border-radius:12px;
  background:var(--btn);
  border:1px solid var(--btn);
  transition:.2s;
}

.filter-category-menu .options-menu button .subcategory-switch .thumb{
  position:absolute;
  width:14px;
  height:14px;
  border-radius:50%;
  background:var(--button-text);
  left:2px;
  top:2px;
  transition:.2s;
}
.filter-category-menu .options-menu button[aria-pressed="false"]{
  color:var(--muted);
}
.filter-category-menu .options-menu button[aria-pressed="false"] .subcategory-logo{
  opacity:0.6;
}
.filter-category-menu .options-menu button[aria-pressed="false"] .subcategory-logo img{
  filter:grayscale(1);
}
.filter-category-menu .options-menu button[aria-pressed="false"] .subcategory-label{
  color:inherit;
}
.filter-category-menu .options-menu button[aria-pressed="false"] .subcategory-switch .track{
  background:var(--btn);
  border-color:var(--btn);
}
.filter-category-menu .options-menu button[aria-pressed="false"] .subcategory-switch .thumb{
  transform:translateX(0);
  opacity:0.7;
}

.filter-category-menu .options-menu button[aria-pressed="true"]{
  background: var(--dropdown-selected-bg);
  color: var(--dropdown-selected-text);
  border-color: var(--dropdown-selected-bg);
  --button-selected-bg: var(--dropdown-selected-bg);
  --button-selected-border: var(--dropdown-selected-bg);
  --button-selected-text: var(--dropdown-selected-text);
}
.filter-category-menu .options-menu button.on{
  --button-selected-bg: var(--dropdown-selected-bg);
  --button-selected-border: var(--dropdown-selected-bg);
  --button-selected-text: var(--dropdown-selected-text);
}

.filter-category-menu .options-menu button[aria-pressed="true"] .subcategory-switch .track,
.filter-category-menu .options-menu button.on .subcategory-switch .track{
  background:var(--category-switch-active);
  border-color:var(--category-switch-active);
}

.filter-category-menu .options-menu button[aria-pressed="true"] .subcategory-switch .thumb,
.filter-category-menu .options-menu button.on .subcategory-switch .thumb{
  transform:translateX(16px);
}

.filter-category-menu[aria-expanded="true"] .filter-category-trigger{
  border-color: var(--border-active);
}

.filter-category-menu.cat-off{
  opacity:0.6;
}

.filter-category-menu.cat-off .filter-category-trigger{
  cursor:default;
}

.formpicker-container{
  margin:8px 0;
}

.formpicker-container .cats{
  display:flex;
  flex-direction:column;
  gap:8px;
}

.formpicker-container .filter-category-menu{
  display:flex;
  flex-direction:column;
  gap:6px;
}

.formpicker-container .filter-category-menu .filter-category-header{
  display:flex;
  align-items:flex-start;
  gap:8px;
}

.formpicker-container .filter-category-menu .filter-category-trigger-wrap{
  flex:1;
}

.formpicker-container .filter-category-menu .filter-category-trigger{
  height:36px;
  border-radius:8px;
  padding:0;
  display:flex;
  align-items:center;
  justify-content:flex-start;
  gap:10px;
  background: var(--btn);
  border: 1px solid var(--btn);
  cursor: pointer;
  width: 100%;
  text-align: left;
  color: var(--button-text);
  font: inherit;
  font-size: 16px;
  margin: 0;
}

.formpicker-container .filter-category-menu .category-logo{
  flex:0 0 24px;
  width:24px;
  height:24px;
  display:flex;
  align-items:center;
  justify-content:center;
}

.formpicker-container .filter-category-menu .category-logo img{
  width:24px;
  height:24px;
}

.formpicker-container .filter-category-menu .filter-category-trigger .label{
  font-weight:400;
  letter-spacing:.2px;
  flex:1;
}

.formpicker-container .filter-category-menu .cat-switch{
  position:relative;
  display:flex;
  align-items:center;
  justify-content:flex-end;
  width:38px;
  height:36px;
  flex:0 0 38px;
  cursor:pointer;
  align-self:flex-start;
}

.formpicker-container .filter-category-menu .cat-switch input{
  opacity:0;
  width:0;
  height:0;
}

.formpicker-container .filter-category-menu .cat-switch .slider{
  position:absolute;
  top:8px;
  left:0;
  right:0;
  margin:0 auto;
  width:38px;
  height:20px;
  border-radius:16px;
  background:var(--btn);
  border:1px solid var(--btn);
  transition:.2s;
}

.formpicker-container .filter-category-menu .cat-switch .slider:before{
  content:'';
  position:absolute;
  width:16px;
  height:16px;
  left:1px;
  top:1px;
  border-radius:50%;
  background:var(--button-text);
  transition:.2s;
}

.formpicker-container .filter-category-menu .cat-switch input:checked + .slider{
  background:var(--category-switch-active);
  border-color:var(--category-switch-active);
}

.formpicker-container .filter-category-menu .cat-switch input:checked + .slider:before{
  transform:translateX(18px);
}

.formpicker-container .filter-category-menu .options-dropdown{
  width:100%;
}

.formpicker-container .filter-category-menu .options-dropdown > button{
  background:rgba(0,0,0,0.2);
  color:#fff;
  border:1px solid rgba(255,255,255,0.1);
}

.formpicker-container .filter-category-menu .options-menu{
  width:100%;
  box-sizing:border-box;
  position:static;
  margin-top:6px;
  background:rgba(0,0,0,0.2);
  border:1px solid rgba(255,255,255,0.1);
  border:none;
  padding:0;
  border-radius:0;
  z-index:auto;
}

.formpicker-container .filter-category-menu .options-menu button{
  width:100%;
  display:flex;
  align-items:center;
  justify-content:flex-start;
  gap:var(--gap);
  border-radius:6px;
  border:1px solid transparent;
  box-sizing:border-box;
  padding:0 12px;
}

.formpicker-container .filter-category-menu .options-menu button .subcategory-logo{
  flex:0 0 24px;
  width:24px;
  height:24px;
  display:flex;
  align-items:center;
  justify-content:center;
}

.formpicker-container .filter-category-menu .options-menu button .subcategory-logo img{
  width:20px;
  height:20px;
}

.formpicker-container .filter-category-menu .options-menu button .subcategory-label{
  flex:1;
  text-align:left;
}

.formpicker-container .filter-category-menu .options-menu button .subcategory-switch{
  flex:0 0 auto;
  display:flex;
  align-items:center;
  justify-content:flex-end;
  width:34px;
  height:18px;
  position:relative;
  pointer-events:none;
}

.formpicker-container .filter-category-menu .options-menu button .subcategory-switch .track{
  position:absolute;
  inset:0;
  border-radius:12px;
  background:var(--btn);
  border:1px solid var(--btn);
  transition:.2s;
}

.formpicker-container .filter-category-menu .options-menu button .subcategory-switch .thumb{
  position:absolute;
  width:14px;
  height:14px;
  border-radius:50%;
  background:var(--button-text);
  left:2px;
  top:2px;
  transition:.2s;
}

.formpicker-container .filter-category-menu .options-menu button[aria-pressed="false"]{
  color:var(--muted);
}

.formpicker-container .filter-category-menu .options-menu button[aria-pressed="false"] .subcategory-logo{
  opacity:0.6;
}

.formpicker-container .filter-category-menu .options-menu button[aria-pressed="false"] .subcategory-logo img{
  filter:grayscale(1);
}

.formpicker-container .filter-category-menu .options-menu button[aria-pressed="false"] .subcategory-label{
  color:inherit;
}

.formpicker-container .filter-category-menu .options-menu button[aria-pressed="false"] .subcategory-switch .track{
  background:var(--btn);
  border-color:var(--btn);
}

.formpicker-container .filter-category-menu .options-menu button[aria-pressed="false"] .subcategory-switch .thumb{
  transform:translateX(0);
  opacity:0.7;
}

.formpicker-container .filter-category-menu .options-menu button[aria-pressed="true"]{
  background: var(--dropdown-selected-bg);
  color: var(--dropdown-selected-text);
  border-color: var(--dropdown-selected-bg);
  --button-selected-bg: var(--dropdown-selected-bg);
  --button-selected-border: var(--dropdown-selected-bg);
  --button-selected-text: var(--dropdown-selected-text);
}

.formpicker-container .filter-category-menu .options-menu button.on{
  --button-selected-bg: var(--dropdown-selected-bg);
  --button-selected-border: var(--dropdown-selected-bg);
  --button-selected-text: var(--dropdown-selected-text);
}

.formpicker-container .filter-category-menu .options-menu button[aria-pressed="true"] .subcategory-switch .track,
.formpicker-container .filter-category-menu .options-menu button.on .subcategory-switch .track{
  background:var(--category-switch-active);
  border-color:var(--category-switch-active);
}

.formpicker-container .filter-category-menu .options-menu button[aria-pressed="true"] .subcategory-switch .thumb,
.formpicker-container .filter-category-menu .options-menu button.on .subcategory-switch .thumb{
  transform:translateX(16px);
}

.formpicker-container .filter-category-menu[aria-expanded="true"] .filter-category-trigger{
  border-color: var(--border-active);
}

.formpicker-container .filter-category-menu.cat-off{
  opacity:0.6;
}

.formpicker-container .filter-category-menu.cat-off .filter-category-trigger{
  cursor:default;
}

/* Make formpicker full width */
.formpicker-container{
  width:100%;
  max-width:100%;
  margin-left:0;
  margin-right:0;
}

.formpicker-dropdowns{
  width:100%;
  max-width:100%;
}

/* Ensure category and subcategory dropdowns follow local styles */
.formpicker-dropdowns .form-field{
  width:100%;
  max-width:100%;
}

.formpicker-dropdowns .form-field-label{
  text-align:left;
}

.formpicker-dropdowns .options-dropdown{
  width:100%;
  position:relative;
}

.formpicker-dropdowns .options-dropdown > button,
.formpicker-dropdowns .form-select{
  width:100%;
  background:rgba(0,0,0,0.2);
  color:#fff;
  border:1px solid rgba(255,255,255,0.1);
  text-align:left !important;
  padding-left:10px;
  padding-right:30px;
  z-index:65;
  display:flex;
  align-items:center;
  justify-content:flex-start;
}

.formpicker-dropdowns .options-menu{
  position:absolute;
  top:calc(100% + 4px);
  bottom:auto;
  left:0;
  right:0;
  width:100%;
  box-sizing:border-box;
  background:#222222;
  border:1px solid rgba(255,255,255,0.1);
  border-radius:8px;
  color:#fff;
  z-index:66;
}

.formpicker-dropdowns .options-menu .menu-option{
  width:100%;
  background:transparent;
  color:#fff;
  border:1px solid transparent;
  border-radius:8px;
  text-align:left;
  justify-content:flex-start;
  display:flex;
  align-items:center;
  padding:0 12px;
  gap:10px;
}

.formpicker-dropdowns .options-menu .menu-option .formpicker-category-icon,
.formpicker-dropdowns .options-menu .menu-option .formpicker-subcategory-icon{
  width:20px;
  height:20px;
  flex-shrink:0;
  object-fit:contain;
}

/* Icons on menu buttons (selected state) */
.formpicker-dropdowns .options-dropdown > button .formpicker-category-icon,
.formpicker-dropdowns .options-dropdown > button .formpicker-subcategory-icon,
.formpicker-dropdowns .form-select .formpicker-category-icon,
.formpicker-dropdowns .form-select .formpicker-subcategory-icon{
  width:20px;
  height:20px;
  flex-shrink:0;
  object-fit:contain;
  padding:10px;
  box-sizing:content-box;
}

.formpicker-dropdowns .options-menu .menu-option:hover{
  background:rgba(255,255,255,0.1);
}

.reset-box{
  margin:0;
}

.reset-box .btn{
  width:100%;
  height: 36px;
  border-radius: 8px;
  background: var(--btn);
  border: 1px solid var(--btn);
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 0 14px;
  font-weight: 700;
  letter-spacing: .2px;
  color: #666;
  opacity: 0.5;
  cursor: not-allowed;
}
.reset-box .btn.active{
  background:#cc6600;
  border-color:#cc6600;
  color:#fff;
  opacity: 1;
  cursor: pointer;
}

.reset-box .btn svg{
  width: 16px;
  height: 16px;
}

.reset-box .arr{
  display: grid;
  place-items: center;
  width: 38px;
  height: 36px;
  border-radius: 8px;
  background: var(--btn);
  border: 1px solid var(--btn);
}

.post-mode-background{
  position:absolute;
  top:0;
  bottom:0;
  left:0;
  right:0;
  background: rgba(var(--post-mode-bg-color), var(--post-mode-bg-opacity));
  z-index:0;
  pointer-events:none;
  display:none;
}

.mode-posts .post-mode-background{
  display:block;
  pointer-events:none;
}

.post-mode-boards{
  position:fixed;
  top:calc(var(--header-h) + var(--safe-top));
  bottom:auto;
  left:0;
  right:0;
  height:var(--panel-area-height, calc((var(--vh, 1vh) * 100) - var(--header-h) - var(--safe-top) - var(--footer-h)));
  max-height:var(--panel-area-height, calc((var(--vh, 1vh) * 100) - var(--header-h) - var(--safe-top) - var(--footer-h)));
  min-height:var(--panel-area-height, calc((var(--vh, 1vh) * 100) - var(--header-h) - var(--safe-top) - var(--footer-h)));
  padding-left:var(--filter-panel-offset);
  padding-right:0;
  display:flex;
  justify-content:center;
  align-items:stretch;
  gap:var(--gap);
  z-index:2;
  pointer-events:none;
  transition:padding var(--panel-transition-duration, 0.3s) ease;
}

body.filter-anchored .post-mode-boards{
  justify-content:flex-start;
}

body.hide-ads .post-mode-boards{padding-right:0;}

.quick-list-board{
  position:fixed;
  top:calc(var(--header-h) + var(--safe-top));
  bottom:auto;
  left:0;
  width:440px;
  padding:10px;
  overflow:auto;
  overflow:overlay;
  background:rgba(0,0,0,0);
  pointer-events:auto;
  z-index:2;
  transform:translateX(0);
  height:var(--panel-area-height, calc((var(--vh, 1vh) * 100) - var(--header-h) - var(--safe-top) - var(--footer-h)));
  max-height:var(--panel-area-height, calc((var(--vh, 1vh) * 100) - var(--header-h) - var(--safe-top) - var(--footer-h)));
  min-height:var(--panel-area-height, calc((var(--vh, 1vh) * 100) - var(--header-h) - var(--safe-top) - var(--footer-h)));
  transition:transform var(--panel-transition-duration, 0.3s) ease;
  will-change:transform;
}

/* Top Gap Spacer - maintains visual stability */
.top-gap-spacer{
  width:100%;
  flex-shrink:0;
  transition:height 0.3s ease;
  pointer-events:none;
}

/* Collapse Gap Button */
.collapse-gap-button{
  position:fixed;
  top:calc(var(--header-h, 60px) + var(--safe-top, 0px) + 10px);
  left:50%;
  transform:translateX(-50%);
  z-index: var(--layer-panel);
  background:var(--btn);
  border:1px solid var(--border);
  border-radius:50%;
  width:40px;
  height:40px;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  box-shadow:0 2px 8px rgba(0,0,0,0.15);
  color:var(--ink);
  transition:all 0.2s ease;
  opacity:0.9;
}

.collapse-gap-button:hover{
  opacity:1;
  box-shadow:0 4px 12px rgba(0,0,0,0.2);
  transform:translateX(-50%) scale(1.05);
}

.collapse-gap-button:active{
  transform:translateX(-50%) scale(0.98);
}

.collapse-gap-button svg{
  width:20px;
  height:20px;
  pointer-events:none;
}

.main-post-column{
  flex:0 0 100%;
  width:100%;
  max-width:var(--post-board-max-w);
  padding:0;
  display:flex;
  flex-direction:column;
}

.post-images{
  margin-top:var(--gap);
  padding-top:0;
  width:100%;
  display:flex;
  flex-direction:column;
}

@media (max-width:440px){
  .main-post-column{
    flex:0 0 auto;
    width:100%;
    max-width:none;
  }
  .post-images .thumbnail-row{
    width:100%;
  }
}

.post-images .thumbnail-row{
  display:flex;
  width:100%;
  max-width:var(--post-board-max-w);
  box-sizing:border-box;
  padding:0 15px 10px 0;
  margin:0;
  gap:5px;
  overflow-x:auto;
  overflow-y:hidden;
  justify-content:flex-start;
}

@supports (scrollbar-gutter: stable){
  .post-images .thumbnail-row{
    scrollbar-gutter:stable both-edges;
  }
}

.post-images .thumbnail-row img{
  width:40px;
  height:40px;
  object-fit:cover;
  border-radius:8px;
  cursor:pointer;
  flex:0 0 auto;
}

.post-images .selected-image{
  width:100%;
  max-width:var(--post-board-max-w);
  aspect-ratio:1/1;
  background:#000;
  display:flex;
  align-items:center;
  justify-content:center;
  overflow:hidden;
}

.post-images .selected-image img{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
}

.post-mode-boards > .post-body,
.post-body{
  width:100%;
  max-width:100%;
  min-width:0;
  padding:0;
  display:flex;
  flex-direction:column;
  overflow:visible;
  height:auto;
  margin-top:0;
}

.post-venue-selection-container,
.post-session-selection-container{
  width:100%;
  height:auto;
  min-height:0;
  display:flex;
  flex-direction:column;
  gap:var(--gap);
}
.post-venue-selection-container:empty,
.post-session-selection-container:empty{
  display:none;
}

.post-details-title-container,
.post-details-member-container,
.post-details-info-container,
.post-details-description-container{
  width:100%;
  min-width:0;
}
.post-details-info-container{
  display:flex;
  flex-direction:column;
  gap:var(--gap);
}
.post-details-info-container > *{
  min-width:0;
}

.post-details-description-container{
  display:flex;
  flex-direction:column;
  gap:var(--gap);
}

.post-details-description-container .desc,
.post-details-description-container .desc-wrap{
  border:none;
  padding:0;
}

.post-details-description-container .desc{
  font-size:14px;
}

/* TODO: cleanup remaining comment */
/* AD PANEL STYLES MOVED TO advert.css - subcategory icon
      - Location line (.loc-line) with  badge
      - Date line (.date-line) with  badge
   
   These specifications ensure the ad panel displays edge-to-edge with
   complete event information matching the post card structure.
   
   ========================================================================== */


/* ============================================================================
   FORMS STYLES - DEDICATED BLOCK
   ============================================================================
   
   Form preview styles for form containers, fields, and related components.
   
   ========================================================================== */

.form-field input.input-invalid,
.form-field textarea.input-invalid,
.form-url-input.input-invalid,
.form-phone-wrapper input.input-invalid,
input.input-invalid,
textarea.input-invalid{
  border:1px solid red !important;
  outline:none !important;
}
.form-image-remove{
  position:absolute;
  top:4px;
  right:4px;
  width:35px;
  height:35px;
  border-radius:10px;
  border:none;
  background:rgba(0,0,0,0.75);
  color:#fff;
  font-size:16px;
  line-height:1;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  transition:background-color .2s ease;
  z-index:1;
}
.form-image-remove:hover{
  background:rgba(255,77,77,0.85);
}
.form-image-remove span{
  pointer-events:none;
}
.required-asterisk{
  color:#ff4d4d;
  font-weight:700;
}

.zoom-toast{
  position:fixed;
  top:calc(var(--safe-top, 0px) + 20px);
  left:50%;
  transform:translate(-50%, -10px);
  background:rgba(0,0,0,0.85);
  color:#fff;
  padding:8px 18px;
  border-radius:999px;
  box-shadow:0 10px 25px rgba(0,0,0,0.4);
  font-size:14px;
  font-weight:normal;
  z-index:var(--layer-dialog);
  pointer-events:none;
  opacity:0;
  transition:opacity 0.2s ease, transform 0.2s ease;
}
.zoom-toast.show{
  opacity:1;
  transform:translate(-50%, 0);
}

/* ============================================================================
   SECTION: MENUS & DROPDOWNS
   ============================================================================ */

/* Menu Container */
.menu{
  position:relative;
}

/* Menu Button - System Image Picker (self-contained) */
.menu-button--system-image-picker{
  position:relative;
  display:inline-flex;
  align-items:center;
  justify-content:flex-start;
  gap:10px;
  width:100%;
  padding:0 30px 0 10px;
  height:60px;
  background:rgba(0,0,0,0.35);
  border:1px solid var(--border);
  border-radius:8px;
  color:var(--button-text);
  font-size:13px;
  cursor:pointer;
  text-align:left;
  transition:border-color 0.15s, background 0.15s;
  box-sizing:border-box;
}

.menu-button--system-image-picker:hover{
  border-color:rgba(255,255,255,0.25);
  background:rgba(0,0,0,0.45);
}

.menu-button--system-image-picker:focus-visible{
  box-shadow:0 0 0 3px rgba(46,58,114,0.45);
  outline:none;
}

.menu-button--system-image-picker[disabled],
.menu-button--system-image-picker[aria-disabled='true']{
  cursor:not-allowed;
  opacity:0.65;
}

/* Menu Option (base for all dropdown items) */
.menu-option{
  display:flex;
  align-items:center;
  gap:10px;
  width:100%;
  padding:10px;
  background:rgba(0,0,0,0.2);
  border:none;
  border-radius:0;
  color:var(--button-text);
  font-size:13px;
  cursor:pointer;
  text-align:left;
  transition:background 0.15s;
  box-sizing:border-box;
}

.menu-option:hover{
  background:rgba(255,255,255,0.15);
}

.menu-option:focus-visible{
  outline:2px solid rgba(46,58,114,0.45);
  outline-offset:-2px;
}

/* Menu Button - trigger button that opens menu */
.menu-button{
  background: var(--btn);
  border: 1px solid var(--btn);
  color: var(--button-text);
  font-family: inherit;
  font-size: 13px;
  padding: 0 10px;
  height: var(--control-h);
  min-height: var(--control-h);
  min-width: 35px;
  border-radius: 8px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  cursor: pointer;
  transition: background .2s, border-color .2s, color .2s, transform .05s;
}
.menu-button:hover{
  background: var(--btn-hover);
  border-color: var(--btn-hover);
  color: var(--button-hover-text);
}
.menu-button:active{
  background: var(--btn-active);
  border-color: var(--btn-active);
  color: var(--button-active-text);
  transform: scale(0.97);
}
.menu-button:focus-visible{
  outline: 2px solid #ffffff;
  outline-offset: 2px;
}
.menu-button[aria-pressed="true"],
.menu-button[aria-expanded="true"],
.menu-button.selected,
.menu-button.on{
  background: var(--button-selected-bg, var(--btn-selected));
  border-color: var(--button-selected-border, var(--button-selected-bg, var(--btn-selected)));
  color: var(--button-selected-text, var(--button-active-text));
}
.menu-button[aria-pressed="true"]:hover,
.menu-button[aria-expanded="true"]:hover,
.menu-button.selected:hover,
.menu-button.on:hover{
  background: var(--button-selected-hover, var(--btn-selected-hover));
  border-color: var(--button-selected-hover-border, var(--button-selected-hover, var(--btn-selected-hover)));
  color: var(--button-selected-hover-text, var(--button-selected-text, var(--button-active-text)));
}
.menu-button:disabled,
.menu-button.disabled{
  background: var(--btn-disabled);
  border-color: var(--btn-disabled);
  color: var(--button-disabled-text);
  cursor: not-allowed;
  opacity: 0.6;
}

/* Menu Button Image - base styles moved to modifier classes
.menu-button-img{
  width: 50px;
  height: 50px;
  object-fit: contain;
  flex-shrink: 0;
}
*/

/* Menu Button Label - base styles moved to modifier classes
.menu-button-label{
  flex: 1;
  text-align: left;
}
*/

/* Menu Button Image - Icon Picker (self-contained) */
.menu-button-img--icon-picker{
  width: 30px;
  height: 30px;
  object-fit: contain;
  flex-shrink: 0;
  display: none;
}

.menu-button--icon-picker.has-icon .menu-button-img--icon-picker{
  display: block;
}

/* Menu Button Label - Icon Picker (self-contained) */
.menu-button-label--icon-picker{
  flex: 1;
  text-align: left;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.menu-button--icon-picker:not(.has-icon) .menu-button-label--icon-picker{
  color: rgba(255,255,255,0.5);
}

/* Menu Error - System Image Picker (self-contained) */
.menu-error--system-image-picker{
  padding: 20px;
  text-align: center;
  color: rgba(255,255,255,0.7);
  font-size: 13px;
  line-height: 1.5;
}

.menu-error--system-image-picker code{
  background: rgba(255,255,255,0.1);
  padding: 2px 6px;
  border-radius: 4px;
  font-family: monospace;
}

/* Menu Error - Icon Picker (self-contained) */
.menu-error--icon-picker{
  padding: 20px;
  text-align: center;
  color: rgba(255,255,255,0.7);
  font-size: 13px;
  line-height: 1.5;
}

.menu-error--icon-picker code{
  background: rgba(255,255,255,0.1);
  padding: 2px 6px;
  border-radius: 4px;
  font-family: monospace;
}

/* Menu Options - System Image Picker (self-contained) */
.menu-options--system-image-picker{
  position: absolute;
  background: rgba(10,10,20,0.95);
  border: 1px solid var(--border);
  border-radius: 10px;
  box-shadow: 0 18px 40px rgba(0,0,0,0.45);
  padding: 12px;
  max-height: 300px;
  overflow: auto;
  z-index: var(--forms-layer-popover, 80);
}

/* Menu Options - Icon Picker (self-contained) */
.menu-options--icon-picker{
  position: absolute;
  background: rgba(10,10,20,0.95);
  border: 1px solid var(--border);
  border-radius: 10px;
  box-shadow: 0 18px 40px rgba(0,0,0,0.45);
  padding: 12px;
  max-height: 300px;
  overflow: auto;
  z-index: var(--forms-layer-popover, 80);
}

/* Menu Grid - System Image Picker (self-contained) */
.menu-grid--system-image-picker{
  display: flex;
  flex-direction: column;
  gap: 8px;
}

/* Menu Grid - Icon Picker (self-contained) */
.menu-grid--icon-picker{
  display: flex;
  flex-direction: column;
  gap: 8px;
}

/* Menu Filename - System Image Picker (self-contained) */
.menu-filename--system-image-picker{
  font-size: 12px;
  color: rgba(255,255,255,0.9);
  text-align: left;
  word-break: break-word;
  line-height: 1.4;
  flex: 1;
}

/* Menu Filename - Icon Picker (self-contained) */
.menu-filename--icon-picker{
  font-size: 12px;
  color: rgba(255,255,255,0.9);
  text-align: left;
  word-break: break-word;
  line-height: 1.4;
  flex: 1;
}

/* Menu Options - dropdown items */
.menu-options{
  background: var(--btn);
  border: none;
  color: var(--button-text);
  font-family: inherit;
  font-size: 13px;
  padding: 0 10px;
  height: var(--control-h);
  min-height: var(--control-h);
  min-width: 35px;
  border-radius: 0;
  display: flex;
  align-items: center;
  justify-content: flex-start;
  text-align: left;
  cursor: pointer;
  transition: background .2s, color .2s;
  width: 100%;
  box-sizing: border-box;
}
.menu-options:hover{
  background: var(--btn-hover);
  color: var(--button-hover-text);
}
.menu-options:active{
  background: var(--btn-active);
  color: var(--button-active-text);
}
.menu-options[aria-pressed="true"],
.menu-options[aria-selected="true"],
.menu-options.selected,
.menu-options.on{
  background: var(--button-selected-bg, var(--btn-selected));
  color: var(--button-selected-text, var(--button-active-text));
}

.options-dropdown{ position:relative; }
.options-dropdown > button,
.options-dropdown .form-select,
.options-dropdown .item-pricing-currency,
.options-dropdown .field-type-select{ text-align:left; }
.options-menu{ position:absolute; bottom:calc(100% + 4px); left:0; right:0; width:100%; min-width:100%; max-width:100%; box-sizing:border-box; background:var(--dropdown-bg); color:var(--dropdown-text); border:1px solid var(--border); border-radius:var(--dropdown-radius); padding:10px; display:flex; flex-direction:column; gap:6px;  z-index: var(--layer-menu); }
.options-menu[hidden]{ display:none; }
.options-menu label{ display:flex; align-items:center; gap:6px; white-space:nowrap; }
.options-menu .menu-option,
.options-menu button.menu-option{ text-align:left; justify-content:flex-start; display:flex; align-items:center; }

/* Menu Button - Sort Order (self-contained) */
.menu-button--sort-order{
  background: var(--btn);
  border: 1px solid var(--btn);
  color: var(--button-text);
  font-family: inherit;
  font-size: 13px;
  padding: 0 10px;
  height: var(--control-h);
  min-height: var(--control-h);
  min-width: 35px;
  border-radius: 8px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  cursor: pointer;
  transition: background .2s, border-color .2s, color .2s, transform .05s;
}
.menu-button--sort-order:hover{
  background: var(--btn-hover);
  border-color: var(--btn-hover);
  color: var(--button-hover-text);
}
.menu-button--sort-order:active{
  background: var(--btn-active);
  border-color: var(--btn-active);
  color: var(--button-active-text);
  transform: scale(0.97);
}
.menu-button--sort-order:focus-visible{
  outline: 2px solid #ffffff;
  outline-offset: 2px;
}
.menu-button--sort-order[aria-expanded="true"]{
  background: var(--button-selected-bg, var(--btn-selected));
  border-color: var(--button-selected-border, var(--button-selected-bg, var(--btn-selected)));
  color: var(--button-selected-text, var(--button-active-text));
}

/* Menu Button - Fieldset List (self-contained) */
.menu-button--fieldset-list{
  background: var(--btn);
  border: 1px solid var(--btn);
  color: var(--button-text);
  font-family: inherit;
  font-size: 13px;
  padding: 0 10px;
  height: var(--control-h);
  min-height: var(--control-h);
  min-width: 35px;
  border-radius: 8px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  cursor: pointer;
  transition: background .2s, border-color .2s, color .2s, transform .05s;
}
.menu-button--fieldset-list:hover{
  background: var(--btn-hover);
  border-color: var(--btn-hover);
  color: var(--button-hover-text);
}
.menu-button--fieldset-list:active{
  background: var(--btn-active);
  border-color: var(--btn-active);
  color: var(--button-active-text);
  transform: scale(0.97);
}
.menu-button--fieldset-list:focus-visible{
  outline: 2px solid #ffffff;
  outline-offset: 2px;
}

/* Menu Options - Sort Order (self-contained) */
.menu-option--sort-order{
  background: var(--btn);
  border: none;
  color: var(--button-text);
  font-family: inherit;
  font-size: 13px;
  padding: 0 10px;
  height: var(--control-h);
  min-height: var(--control-h);
  min-width: 35px;
  border-radius: 0;
  display: flex;
  align-items: center;
  justify-content: flex-start;
  text-align: left;
  cursor: pointer;
  transition: background .2s, color .2s;
  width: 100%;
  box-sizing: border-box;
}
.menu-option--sort-order:hover{
  background: var(--btn-hover);
  color: var(--button-hover-text);
}
.menu-option--sort-order:active{
  background: var(--btn-active);
  color: var(--button-active-text);
}
.menu-option--sort-order[aria-pressed="true"]{
  background: var(--button-selected-bg, var(--btn-selected));
  color: var(--button-selected-text, var(--button-active-text));
}

/* Menu Options - Fieldset List (self-contained) */
.menu-option--fieldset-list{
  background: var(--btn);
  border: none;
  color: var(--button-text);
  font-family: inherit;
  font-size: 13px;
  padding: 0 10px;
  height: var(--control-h);
  min-height: var(--control-h);
  min-width: 35px;
  border-radius: 0;
  display: flex;
  align-items: center;
  justify-content: flex-start;
  text-align: left;
  cursor: pointer;
  transition: background .2s, color .2s;
  width: 100%;
  box-sizing: border-box;
}
.menu-option--fieldset-list:hover{
  background: var(--btn-hover);
  color: var(--button-hover-text);
}
.menu-option--fieldset-list:active{
  background: var(--btn-active);
  color: var(--button-active-text);
}

/* Menu button arrow - override global dropdown-arrow styles */
.menu-button--system-image-picker .dropdown-arrow{
  position:absolute;
  right:12px;
  top:50%;
  transform:translateY(-50%);
  width:12px;
  height:12px;
  pointer-events:none;
  opacity:0.7;
  transition:transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.2s;
  display:block;
  border:none;
  border-style:none;
  border-width:0;
  border-color:transparent;
  background:none;
  color:transparent;
  vertical-align:baseline;
}

.menu-button--system-image-picker .dropdown-arrow::before,
.menu-button--system-image-picker .dropdown-arrow::after{
  content:'';
  position:absolute;
  width:2px;
  height:8px;
  background:rgba(255,255,255,0.8);
  border-radius:1px;
  top:2px;
  transition:background 0.2s;
}

.menu-button--system-image-picker .dropdown-arrow::before{
  left:4px;
  transform:rotate(45deg);
  transform-origin:bottom left;
}

.menu-button--system-image-picker .dropdown-arrow::after{
  right:4px;
  transform:rotate(-45deg);
  transform-origin:bottom right;
}

.menu-button--system-image-picker:hover .dropdown-arrow{
  opacity:1;
}

.menu.menu-open .menu-button--system-image-picker .dropdown-arrow,
.menu.menu-open .menu-button--system-image-picker .dropdown-arrow{
  transform:translateY(-50%) rotate(180deg);
  opacity:1;
}

.menu.menu-open .menu-button--system-image-picker .dropdown-arrow::before,
.menu.menu-open .menu-button--system-image-picker .dropdown-arrow::before,
.menu.menu-open .menu-button--system-image-picker .dropdown-arrow::after,
.menu.menu-open .menu-button--system-image-picker .dropdown-arrow::after{
  background:rgba(255,255,255,1);
}

/* System Images Menu - button styling */
.menu--system-image-picker .menu-button--system-image-picker{
  width:100%;
}

/* #tab-settings and #tab-messages system-image-picker styles moved to admin.css */

/* Future menu modifiers */
.menu-button--formpicker{}
.menu-option--formpicker{}
.menu-button--member-currency{}
.menu-option--member-currency{}
.menu-button--member-prefix{}
.menu-option--member-prefix{}

/* ============================================================================
   SECTION: MESSAGES
   ============================================================================ */

/* SUGGESTIONS (to be refined):
   .msg--success
   .msg--error
   .msg--warning
   .msg--toast
   .msg--confirm
   .msg--summary
*/

.msg--summary{
  font-size:14px;
  width:100%;
  max-width:420px;
  margin:0;
  text-align:center;
}


/* ============================================================================
   SECTION: CARDS & BOARDS
   ============================================================================ */

.thumb{
  width: 80px;
  height: 80px;
  border-radius: 8px;
  object-fit: cover;
  display: block;
  background: var(--panel-bg);
  transition: filter .22s ease;
}

.thumb.lqip{
  filter: none;
}

.meta{
  display: flex;
  flex-direction: column;
  gap: 6px;
  min-width: 0;
}

.title{
  margin: 0;
  font-weight: bold;
  font-size: 16px;
  line-height: 1.2;
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  line-clamp: 2;
  -webkit-box-orient: vertical;
}

.info{
  display: flex;
  gap: 16px;
  align-items: center;
  min-width: 0;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}

.quick-list-board .info{
  flex-direction: column;
  align-items: flex-start;
  gap: 4px;
  font-size: 13px;
}

.quick-list-board .info > div{
  display: flex;
  align-items: center;
  gap: 0;
}

.badge{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  padding-right: 5px;
  border: 0;
  border-radius: 0;
  width: auto;
  height: auto;
  line-height: 1;
}

.info > div > :not(.badge) + *{
  margin-left: 5px;
}

.fav{
  width: 36px;
  height: 36px;
  border-radius: 8px;
  display: grid;
  place-items: center;
  background: var(--btn);
  border: 1px solid var(--btn);
}

.fav svg{
  width: 18px;
  height: 18px;
  fill: none;
  stroke: var(--gold);
  stroke-width: 1.5;
  pointer-events: none;
}

.fav[aria-pressed="true"] svg{
  fill: var(--gold);
  stroke: var(--gold);
}

.share{
  width: 36px;
  height: 36px;
  border-radius: 8px;
  display: grid;
  place-items: center;
  background: var(--btn);
  border: 1px solid var(--btn);
  margin-left: auto;
}

.share svg{
  width: 18px;
  height: 18px;
  fill: var(--button-text);
  pointer-events: none;
}

#favToggle{
  white-space:nowrap;
}
#favToggle svg{
  width:18px;
  height:18px;
  fill:none;
  stroke:var(--gold);
  stroke-width:1.5;
  vertical-align:middle;
  margin-left:6px;
}
#favToggle[aria-pressed="true"] svg{
  fill:var(--gold);
  stroke:var(--gold);
}

#map{
  position: absolute;
  inset: 0;
  opacity: 0;
}

.map-overlay{
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  display: grid;
  place-items: center;
  color: #fff;
  font-weight: 700;
  letter-spacing: .5px;
  opacity: .15;
  pointer-events: none;
}

.map-zoom-indicator{
  position:absolute;
  bottom:calc(var(--safe-bottom, 0px) + 20px);
  left:50%;
  transform:translateX(-50%);
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:8px;
  padding:6px 12px;
  border-radius:999px;
  background:rgba(0, 0, 0, 0.7);
  color:#fff;
  font-size:12px;
  font-weight:600;
  letter-spacing:.3px;
  line-height:1;
  white-space:nowrap;
  pointer-events:none;
  z-index:5;
  min-width:72px;
  text-align:center;
}

.map-scale-bar{
  position:absolute;
  left:50%;
  transform:translateX(-50%);
  width:300px;
  height:30px;
  z-index:1;
  pointer-events:none;
  display:flex;
  align-items:flex-end;
  justify-content:flex-start;
}

.map-scale-bar .scale-line{
  position:relative;
  width:100%;
  height:2px;
  background:#000;
  margin-bottom:0;
}

.map-scale-bar .scale-mark{
  position:absolute;
  bottom:0;
  width:1px;
  height:6px;
  background:#000;
}

.map-scale-bar .scale-mark.major{
  height:10px;
}

.map-scale-bar .scale-label{
  position:absolute;
  bottom:12px;
  font-size:10px;
  color:#000;
  font-weight:600;
  transform:translateX(-50%);
  white-space:nowrap;
}

/* Map control row base styles moved to filter.css */
/* Map button styles moved to map.css */

#welcomeBody .map-control-row{
  justify-content:center;
  width:fit-content;
  max-width:600px;
  margin:0 auto;
  gap:10px;
  flex-wrap:nowrap;
}
#welcomeBody .map-controls-welcome{
  pointer-events:auto;
  --welcome-control-h:28px;
  position:absolute;
  top:50%;
  left:0;
  right:0;
  margin-top:-14px;
  display:flex;
  justify-content:center;
  opacity:0;
  transition:opacity 0.3s ease;
}
#welcomeBody .map-controls-welcome.visible{
  opacity:1;
}
#welcomeBody .map-controls-welcome .mapboxgl-ctrl-geocoder .suggestions{
  zoom:var(--inverse-zoom, 1);
  font-size:14px;
}
#welcomeBody .map-controls-welcome .mapboxgl-ctrl-geocoder .suggestions li,
#welcomeBody .map-controls-welcome .mapboxgl-ctrl-geocoder .suggestions li a{
  font-size:14px;
  font-weight:400;
}
#welcomeBody .map-controls-welcome .mapboxgl-ctrl-geolocate button,
#welcomeBody .map-controls-welcome .mapboxgl-ctrl-compass button{
  width:var(--welcome-control-h);
  height:var(--welcome-control-h);
}
#welcomeBody .map-control-row > *{
  flex:0 0 auto;
}
#welcomeBody .map-control-row > .geocoder{
  flex:1 1 420px;
  min-width:0;
  width:100%;
  max-width:420px;
}
#welcomeBody .map-control-row .mapboxgl-ctrl-geocoder{
  width:100% !important;
  max-width:420px !important;
  min-width:0 !important;
}
#welcomeBody .map-controls-welcome .mapboxgl-ctrl-geocoder{
  display:flex;
  align-items:center;
  gap:0;
  height:var(--welcome-control-h);
}
#welcomeBody .map-controls-welcome .mapboxgl-ctrl-geocoder .mapboxgl-ctrl-geocoder--input{
  flex:1 1 auto;
  height:100%;
  padding-top:0;
  padding-bottom:0;
  padding-left:12px;
  padding-right:12px;
  line-height:var(--welcome-control-h);
  font:inherit;
  font-size:13px;
}
#welcomeBody .map-controls-welcome .mapboxgl-ctrl-geocoder,
#welcomeBody .map-controls-welcome .mapboxgl-ctrl-geocoder *,
#welcomeBody .map-controls-welcome .mapboxgl-ctrl-geolocate,
#welcomeBody .map-controls-welcome .mapboxgl-ctrl-geolocate *{
  text-align:left;
}
#welcomeBody .map-controls-welcome .mapboxgl-ctrl-geocoder .mapboxgl-ctrl-geocoder--button{
  display:none;
}
#welcomeBody .map-controls-welcome .mapboxgl-ctrl-geocoder .mapboxgl-ctrl-geocoder--icon{
  display:none;
}
#welcomeBody .map-control-row .mapboxgl-ctrl-geocoder .mapboxgl-ctrl-geocoder--input{
  width:100%;
}

/* .map-controls-map styles moved to map.css */

@media (max-width:600px){
  #welcomeBody .map-control-row > .geocoder,
  #welcomeBody .map-control-row .mapboxgl-ctrl-geocoder{
    width:100% !important;
    max-width:min(100%, 300px) !important;
  }
}

.map-area{
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 0;
}


.desc-wrap{
  cursor:pointer;
}

.see-more-toggle{
  color:#888888;
}

.venue-options,
.session-options{
  display:flex;
  flex-direction:column;
  gap:var(--gap);
  width:100%;
  flex:1 1 auto;
  max-height:250px;
  overflow-y:auto;
}

.post-map{
  border-radius:8px;
}

.sort-options{
  --button-selected-bg: #2e3a72;
  --button-selected-border: #2e3a72;
  --button-selected-text: var(--button-active-text);
  --button-selected-hover: #2e3a72;
  --button-selected-hover-border: #2e3a72;
  --button-selected-hover-text: var(--button-active-text);
  --button-selected-active: #2e3a72;
  --button-selected-active-border: #2e3a72;
  --button-selected-active-text: var(--button-active-text);
}

.hide-map-calendar .map-container,
.hide-map-calendar .calendar-container{
  display:none;
}

.pill{
  border: 1px solid var(--btn);
  background: var(--btn);
  border-radius: 999px;
  padding: 8px 12px;
  font-weight: 700;
  cursor: pointer;
}

.close{
  border: 0;
  background: #16283f;
  border-radius: 8px;
  padding: 8px 12px;
  cursor: pointer;
}

.dates{
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  margin-top: 4px;
}

.date{
  background: var(--btn);
  border: 1px solid var(--btn);
  border-radius: 999px;
  padding: 6px 10px;
  font-size: 14px;
}

.desc{
  margin-top:8px;
  cursor:pointer;
  font-size:14px;
}

@media (max-width:440px){
  html{
    touch-action:pan-x pan-y;
  }
  .map-container{
    touch-action:auto;
  }
}

@media (max-width:440px){
  .post-mode-boards{
    top:calc(var(--header-h) + var(--safe-top));
    bottom:var(--footer-h);
    padding:0;
    gap:0;
    flex-direction:column;
    align-items:flex-start;
  }
  .quick-list-board{
    width:100%;
    max-width:100%;
    left:0;
    right:0;
    padding:0;
    border-radius:0;
    flex:0 0 auto;
    min-height:0;
    height:auto;
    max-height:100%;
  }
  .quick-list-board{
    position:relative;
    top:0;
    bottom:auto;
  }
  .panel-content{
    top:calc(var(--header-h) + var(--safe-top));
    bottom:var(--footer-h);
    height:calc(100vh - var(--header-h) - var(--safe-top) - var(--footer-h));
    min-height:0;
  }
  .card{
    margin:0;
    border-radius:0;
    padding:12px;
  }
  .thumb{
    border-radius:0;
  }
  .panel-content{
    left:0 !important;
    right:0 !important;
    top:calc(var(--header-h) + var(--safe-top));
    bottom:var(--footer-h);
    width:100% !important;
    max-width:100% !important;
    height:calc(100vh - var(--header-h) - var(--safe-top) - var(--footer-h));
    max-height:calc(100vh - var(--header-h) - var(--safe-top) - var(--footer-h));
    border-radius:0;
  }
  .panel-body{
    padding:10px;
    align-items:stretch;
  }
  .panel-body > *{
    max-width:100%;
  }
  .post-details-description-container .desc-wrap{
    margin:10px 0 0;
  }
  .post-details-description-container .desc{
    margin:0;
  }
  .post-details-description-container .desc[aria-expanded="false"]{
    display:-webkit-box;
    -webkit-line-clamp:2;
    line-clamp:2;
    -webkit-box-orient:vertical;
    overflow:hidden;
    text-overflow:ellipsis;
  }
  .post-details-description-container .desc[aria-expanded="true"],
  .post-details-description-container .desc.expanded{
    display:block;
  }
  .post-images{
    margin-top:10px;
  }
}

  .copy-msg{
    position:absolute;
    background:rgba(0,0,0,0.8);
    color:#fff;
    padding:4px 8px;
    border-radius:8px;
    opacity:0;
    transition:opacity .3s;
    pointer-events:none;
    z-index:var(--layer-dialog);
  }
  .copy-msg.show{opacity:1;}

  .image-modal-container{
    position:fixed;
    top:0;
    left:0;
    width:100%;
    height:100%;
    background:rgba(0,0,0,0.65);
    backdrop-filter:blur(4px);
    display:flex;
    align-items:center;
    justify-content:center;
    z-index:var(--layer-image-modal);
  }
  .image-modal-container.hidden{display:none;}
  .image-modal-container .image-modal img{
    max-width:90vw;
    max-height:90vh;
    display:block;
  }

  #post-modal-container{
    position:fixed;
    top:0;
    left:0;
    width:100%;
    height:100%;
    background:rgba(0,0,0,0.65);
    backdrop-filter:blur(4px);
    display:flex;
    align-items:center;
    justify-content:center;
    z-index: var(--layer-modal);
  }
  #post-modal-container.hidden{display:none;}
    #post-modal-container .post-modal{
      width:880px;
    max-width:100%;
    height:90%;
    overflow:auto;
    overflow:overlay;
    background:var(--list-background);
    border-radius:8px;
  }
    @media (max-width:440px){
      #post-modal-container .post-modal{width:440px;}
    }
    @media (max-width:440px){
      #post-modal-container .post-modal{width:100%;min-width:0;}
    }

  #termsModalContainer{
    position:fixed;
    top:0;
    left:0;
    width:100%;
    height:100%;
    background:rgba(0,0,0,0.9);
    backdrop-filter:blur(4px);
    display:flex;
    align-items:center;
    justify-content:center;
    z-index: var(--layer-modal);
  }
  #termsModalContainer.hidden{display:none;}
  #termsModalContainer .terms-modal{
    width:600px;
    max-width:90%;
    max-height:90%;
    overflow:auto;
    overflow:overlay;
    background:var(--list-background);
    border-radius:8px;
    display:flex;
    flex-direction:column;
  }
  #termsModalContainer .terms-modal-header{
    display:flex;
    justify-content:space-between;
    align-items:center;
    padding:20px;
    border-bottom:1px solid var(--border-color, rgba(255,255,255,0.1));
  }
  #termsModalContainer .terms-modal-header h2{
    margin:0;
    font-size:20px;
    font-weight:600;
    color:#3b82f6;
  }
  #termsModalContainer .terms-modal-close{
    background:none;
    border:none;
    font-size:24px;
    cursor:pointer;
    padding:0;
    width:30px;
    height:30px;
    display:flex;
    align-items:center;
    justify-content:center;
    color:#ffffff;
    border-radius:4px;
  }
  #termsModalContainer .terms-modal-close:hover{
    background:rgba(255,255,255,0.1);
  }
  #termsModalContainer .terms-modal-content{
    padding:20px;
    flex:1;
    overflow-y:auto;
    color:#ffffff;
  }
  #termsModalContainer .terms-text{
    margin-bottom:20px;
    line-height:1.6;
    color:#ffffff;
  }
  #termsModalContainer .terms-text h3,
  #termsModalContainer .terms-text h4{
    color:#3b82f6;
    margin-top:20px;
    margin-bottom:10px;
  }
  #termsModalContainer .terms-text h3:first-child{
    margin-top:0;
  }
  #termsModalContainer .terms-text p{
    color:#ffffff;
    margin-bottom:15px;
  }
  #termsModalContainer .terms-text ul{
    color:#ffffff;
    margin-bottom:15px;
  }
  #termsModalContainer .terms-text li{
    color:#ffffff;
    margin-bottom:8px;
  }
  #termsModalContainer .terms-text strong{
    color:#ffffff;
  }
  #termsModalContainer .terms-checkbox-wrapper{
    display:flex;
    align-items:center;
    gap:10px;
    padding:15px;
    background:rgba(255,255,255,0.1);
    border-radius:8px;
    margin-top:20px;
  }
  #termsModalContainer .terms-checkbox-wrapper input[type="checkbox"]{
    width:20px;
    height:20px;
    cursor:pointer;
  }
  #termsModalContainer .terms-checkbox-wrapper label{
    cursor:pointer;
    font-size:16px;
    user-select:none;
    color:#ffffff;
  }
  #termsModalContainer .terms-modal-footer{
    padding:20px;
    border-top:1px solid var(--border-color, rgba(255,255,255,0.1));
    display:flex;
    justify-content:flex-end;
  }
  @media (max-width:440px){
    #termsModalContainer .terms-modal{
      width:100%;
      max-width:100%;
      max-height:100%;
      border-radius:0;
    }
  }

  .terms-conditions-link{
    display:inline-block;
    margin-bottom:15px;
    color:var(--link-color, #0066cc);
    text-decoration:underline;
    cursor:pointer;
    font-size:14px;
  }
  .terms-conditions-link:hover{
    color:var(--link-hover-color, #0052a3);
  }

  .chip-small{
  flex: 0 0 auto;
  max-width: 240px;
  display: flex;
  align-items: center;
  gap: 8px;
  background: var(--btn);
  border-radius: 8px;
  padding: 6px 10px;
  font-size: 14px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  cursor: pointer;
}

.chip-small img.mini{
  width: 26px;
  height: 20px;
  border-radius: 8px;
  object-fit: cover;
  flex: 0 0 auto;
  display: block;
  background: var(--btn);
}

.chip-small .t{
  overflow: hidden;
  text-overflow: ellipsis;
}

.card .thumb{
  flex: 0 0 80px;
  width: 80px;
  height: 80px;
  display: block;
  object-fit: cover;
  border-radius: 8px;
}

.card .meta{
  flex: 1 1 auto;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.card .fav{
  flex: 0 0 auto;
}

.mapboxgl-popup,
.mapboxgl-popup-content{
  border-radius:8px !important;
}

.mapboxgl-popup-content{
  background: var(--popup-bg) !important;
  color: var(--popup-text) !important;
  overflow:hidden;
}

.mapboxgl-popup-close-button{
  color: var(--popup-text) !important;
}

.nowrap{
  white-space: nowrap;
}

.hero img.lqip{
  filter: blur(10px);
  transform: scale(1.02);
  transition: filter .22s ease, transform .22s ease;
}

.hero img.ready{
  filter: none;
  transform: none;
}

img.thumb{
  width: 80px;
  height: 80px;
  object-fit: cover;
  border-radius: 8px;
}

.mode-posts #postsWide{
  border: none;
  background: transparent;
}

.mode-posts #postsWide.posts{
  background: transparent;
}


@media (max-width:440px){
  :root{
    --footer-h:0;
  }
  body.mode-map{
    --footer-h:0;
    }
  }

/* ============================================================================
   SECTION: UTILITIES & FIXES
   ============================================================================ */

html, body { cursor: auto !important; }
    a, button, [role="button"], .clickable { cursor: pointer !important; }
    .mapboxgl-canvas { cursor: grab; }
    .mapboxgl-canvas:active { cursor: grabbing; }
    * { -webkit-tap-highlight-color: transparent; }

            /* #tab-messages and #tab-settings icon-picker styles moved to admin.css */
            .address_line-line{
              display:block !important;
              width:100% !important;
              height:auto !important;
              max-height:none !important;
              overflow:visible !important;
            }
            .address_line-line > *{
              width:100% !important;
              min-width:0 !important;
              height:auto !important;
              max-height:none !important;
            }
            .address_line-display{
              display:block !important;
              width:100% !important;
              height:auto !important;
              max-height:none !important;
              min-height:38px !important;
              padding:8px 12px !important;
              font-family:inherit !important;
              font-size:14px !important;
              font-weight:400 !important;
              color:var(--input-text) !important;
              background:rgba(0,0,0,0.35) !important;
              border:1px solid var(--border) !important;
              border-radius:8px !important;
              line-height:1.5 !important;
              word-wrap:break-word !important;
              overflow-wrap:break-word !important;
              white-space:pre-wrap !important;
              cursor:text !important;
              box-sizing:border-box !important;
              text-align:left !important;
              overflow:visible !important;
            }
            .address_line-display:hover{
              border-color:var(--border-hover, var(--border)) !important;
            }
            .address_line-display:focus{
              outline:none !important;
              border-color:var(--focus-color, #4a90d9) !important;
            }
            .address_line-display[hidden]{
              display:none !important;
              visibility:hidden !important;
              height:0 !important;
              min-height:0 !important;
              padding:0 !important;
              margin:0 !important;
              border:none !important;
              overflow:hidden !important;
            }
            .address_line-geocoder-container[hidden]{
              display:none !important;
              visibility:hidden !important;
            }
            /* #geocoder-admin-starting hidden state (#tab-map styles moved to admin.css) */
            #geocoder-admin-starting[hidden]{
              display:none !important;
              visibility:hidden !important;
            }
            /* ============= #tab-messages styles moved to admin.css ============= */
            .subcategory-field-overlay{
              position:absolute;
              top:0;
              left:0;
              display:none;
              background:transparent;
              z-index: var(--layer-menu);
              pointer-events:none;
            }
            .subcategory-field-overlay.visible{
              display:block;
            }
            .subcategory-field-overlay-content{
              position:absolute;
              outline:none;
              max-height:none;
              overflow:visible;
              pointer-events:auto;
              background:#000;
              border-radius:8px;
              padding:10px;
              box-sizing:border-box;
            }
            .subcategory-field-overlay-content > .subcategory-field-row{
              margin:0;
              width:100%;
            }
            .subcategory-field-placeholder{
              display:none;
            }

/* ============================================================================
   SECTION: DEVTOOLS
   ============================================================================ */

#devtoolsBtn,
.devtools-btn{
  position: fixed;
  bottom: 60px;
  right: 10px;
  width: 40px;
  height: 40px;
  border-radius: 8px;
  background: #ff9800;
  background-color: #ff9800;
  color: #000;
  border: 1px solid #ff9800;
  border-color: #ff9800;
  padding: 10px;
  font-size: 14px;
  font-weight: 700;
  cursor: pointer;
  z-index: 100;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
  transition: all 0.2s ease;
  user-select: none;
}

.devtools-btn:hover{
  background: #f57c00 !important;
  background-color: #f57c00 !important;
  border-color: #f57c00 !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3) !important;
  transform: scale(1.05) !important;
  color: #000 !important;
}

.devtools-btn:active{
  background: #e65100 !important;
  background-color: #e65100 !important;
  transform: scale(0.95) !important;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.2) !important;
  color: #000 !important;
}

.devtools-btn:focus{
  outline: 2px solid #000 !important;
  outline-offset: 2px !important;
  background: #ff9800 !important;
  background-color: #ff9800 !important;
  color: #000 !important;
}

/* LocalStorage Clear Button - Must be above all other elements */
#clearLocalStorageBtn,
.clear-localstorage-btn{
  position: fixed;
  bottom: 10px;
  right: 10px;
  width: 40px;
  height: 40px;
  border-radius: 8px;
  background: #ffc107;
  background-color: #ffc107;
  color: #000;
  border: 1px solid #ffc107;
  border-color: #ffc107;
  padding: 10px;
  font-size: 14px;
  font-weight: 700;
  cursor: pointer;
  z-index: 100;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
  transition: all 0.2s ease;
  user-select: none;
}

.clear-localstorage-btn:hover{
  background: #ffb300 !important;
  background-color: #ffb300 !important;
  border-color: #ffb300 !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3) !important;
  transform: scale(1.05) !important;
  color: #000 !important;
}

.clear-localstorage-btn:active{
  background: #ffa000 !important;
  background-color: #ffa000 !important;
  transform: scale(0.95) !important;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.2) !important;
  color: #000 !important;
}

.clear-localstorage-btn:focus{
  outline: 2px solid #000 !important;
  outline-offset: 2px !important;
  background: #ffc107 !important;
  background-color: #ffc107 !important;
  color: #000 !important;
}




